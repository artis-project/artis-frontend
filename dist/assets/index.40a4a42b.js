import{bk as Qo,b as B,bn as Jl,bd as Yd,bc as Vt,bo as Kd,bp as Xd,e as N,bq as _i,br as ep,bs as tp,bt as rp}from"./index.2db048f1.js";function np(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Zo={exports:{}},mo,Qc;function ip(){if(Qc)return mo;Qc=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;mo=function(u,f){f=f||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return f.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(!!f){var h=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*r;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var f=Math.abs(u);return f>=n?Math.round(u/n)+"d":f>=r?Math.round(u/r)+"h":f>=e?Math.round(u/e)+"m":f>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var f=Math.abs(u);return f>=n?l(u,f,n,"day"):f>=r?l(u,f,r,"hour"):f>=e?l(u,f,e,"minute"):f>=t?l(u,f,t,"second"):u+" ms"}function l(u,f,h,d){var p=f>=h*1.5;return Math.round(u/h)+" "+d+(p?"s":"")}return mo}function sp(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=ip(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,h=null,d,p;function _(...v){if(!_.enabled)return;const g=_,m=Number(new Date),w=m-(f||m);g.diff=w,g.prev=f,g.curr=m,f=m,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let I=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(A,H)=>{if(A==="%%")return"%";I++;const z=r.formatters[H];if(typeof z=="function"){const L=v[I];A=z.call(g,L),v.splice(I,1),I--}return A}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return _.namespace=u,_.useColors=r.useColors(),_.color=r.selectColor(u),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(u)),p),set:v=>{h=v}}),typeof r.init=="function"&&r.init(_),_}function n(u,f){const h=r(this.namespace+(typeof f>"u"?":":f)+u);return h.log=this.log,h}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f;const h=(typeof u=="string"?u:"").split(/[\s,]+/),d=h.length;for(f=0;f<d;f++)!h[f]||(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(u))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var op=sp;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,f=0;c[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(f=u))}),c.splice(f,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof Qo.exports<"u"&&"env"in Qo.exports&&(c={ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=op(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(Zo,Zo.exports);var vo,Zc;function ap(){return Zc||(Zc=1,vo=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),vo}var cp=Z;Z.Node=er;Z.create=Z;function Z(t){var e=this;if(e instanceof Z||(e=new Z),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Z.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Z.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Z.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Z.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)lp(this,arguments[t]);return this.length};Z.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)hp(this,arguments[t]);return this.length};Z.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Z.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Z.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Z.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Z.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Z.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Z.prototype.map=function(t,e){e=e||this;for(var r=new Z,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Z.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Z,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Z.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Z.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Z.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Z.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Z.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Z;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Z.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Z;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Z.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=up(this,i,r[n]);return s};Z.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function up(t,e,r){var n=e===t.head?new er(r,null,e,t):new er(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function lp(t,e){t.tail=new er(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function hp(t,e){t.head=new er(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function er(t,e,r,n){if(!(this instanceof er))return new er(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ap()(Z)}catch{}const fp=cp,qt=Symbol("max"),vt=Symbol("length"),fr=Symbol("lengthCalculator"),nn=Symbol("allowStale"),Yt=Symbol("maxAge"),bt=Symbol("dispose"),Yc=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),Ke=Symbol("cache"),Ql=Symbol("updateAgeOnGet"),yo=()=>1;class dp{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[qt]=e.max||1/0;const r=e.length||yo;if(this[fr]=typeof r!="function"?yo:r,this[nn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Yt]=e.maxAge||0,this[bt]=e.dispose,this[Yc]=e.noDisposeOnSet||!1,this[Ql]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[qt]=e||1/0,Qr(this)}get max(){return this[qt]}set allowStale(e){this[nn]=!!e}get allowStale(){return this[nn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Yt]=e,Qr(this)}get maxAge(){return this[Yt]}set lengthCalculator(e){typeof e!="function"&&(e=yo),e!==this[fr]&&(this[fr]=e,this[vt]=0,this[ge].forEach(r=>{r.length=this[fr](r.value,r.key),this[vt]+=r.length})),Qr(this)}get lengthCalculator(){return this[fr]}get length(){return this[vt]}get itemCount(){return this[ge].length}rforEach(e,r){r=r||this;for(let n=this[ge].tail;n!==null;){const i=n.prev;Kc(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ge].head;n!==null;){const i=n.next;Kc(this,e,n,r),n=i}}keys(){return this[ge].toArray().map(e=>e.key)}values(){return this[ge].toArray().map(e=>e.value)}reset(){this[bt]&&this[ge]&&this[ge].length&&this[ge].forEach(e=>this[bt](e.key,e.value)),this[Ke]=new Map,this[ge]=new fp,this[vt]=0}dump(){return this[ge].map(e=>oi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ge]}set(e,r,n){if(n=n||this[Yt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[fr](r,e);if(this[Ke].has(e)){if(s>this[qt])return _r(this,this[Ke].get(e)),!1;const c=this[Ke].get(e).value;return this[bt]&&(this[Yc]||this[bt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[vt]+=s-c.length,c.length=s,this.get(e),Qr(this),!0}const o=new pp(e,r,s,i,n);return o.length>this[qt]?(this[bt]&&this[bt](e,r),!1):(this[vt]+=o.length,this[ge].unshift(o),this[Ke].set(e,this[ge].head),Qr(this),!0)}has(e){if(!this[Ke].has(e))return!1;const r=this[Ke].get(e).value;return!oi(this,r)}get(e){return _o(this,e,!0)}peek(e){return _o(this,e,!1)}pop(){const e=this[ge].tail;return e?(_r(this,e),e.value):null}del(e){_r(this,this[Ke].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Ke].forEach((e,r)=>_o(this,r,!1))}}const _o=(t,e,r)=>{const n=t[Ke].get(e);if(n){const i=n.value;if(oi(t,i)){if(_r(t,n),!t[nn])return}else r&&(t[Ql]&&(n.value.now=Date.now()),t[ge].unshiftNode(n));return i.value}},oi=(t,e)=>{if(!e||!e.maxAge&&!t[Yt])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Yt]&&r>t[Yt]},Qr=t=>{if(t[vt]>t[qt])for(let e=t[ge].tail;t[vt]>t[qt]&&e!==null;){const r=e.prev;_r(t,e),e=r}},_r=(t,e)=>{if(e){const r=e.value;t[bt]&&t[bt](r.key,r.value),t[vt]-=r.length,t[Ke].delete(r.key),t[ge].removeNode(e)}};class pp{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Kc=(t,e,r,n)=>{let i=r.value;oi(t,i)&&(_r(t,r),t[nn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var gp=dp;const bp=Object.freeze({loose:!0}),mp=Object.freeze({}),vp=t=>t?typeof t!="object"?bp:t:mp;var ya=vp,tr={exports:{}};const yp="2.0.0",Zl=256,_p=Number.MAX_SAFE_INTEGER||9007199254740991,wp=16,Sp=Zl-6,Ep=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wi={MAX_LENGTH:Zl,MAX_SAFE_COMPONENT_LENGTH:wp,MAX_SAFE_BUILD_LENGTH:Sp,MAX_SAFE_INTEGER:_p,RELEASE_TYPES:Ep,SEMVER_SPEC_VERSION:yp,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Cp=typeof Qo.exports=="object"&&{ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}&&{ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}.NODE_DEBUG&&/\bsemver\b/i.test({ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Si=Cp;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n}=wi,i=Si;e=t.exports={};const s=e.re=[],o=e.safeRe=[],a=e.src=[],c=e.t={};let l=0;const u="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",r],[u,n]],h=p=>{for(const[_,v]of f)p=p.split(`${_}*`).join(`${_}{0,${v}}`).split(`${_}+`).join(`${_}{1,${v}}`);return p},d=(p,_,v)=>{const g=h(_),m=l++;i(p,m,_),c[p]=m,a[m]=_,s[m]=new RegExp(_,v?"g":void 0),o[m]=new RegExp(g,v?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${u}*`),d("MAINVERSION",`(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})\\.(${a[c.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})\\.(${a[c.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${a[c.NUMERICIDENTIFIER]}|${a[c.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${a[c.NUMERICIDENTIFIERLOOSE]}|${a[c.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${a[c.PRERELEASEIDENTIFIER]}(?:\\.${a[c.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${a[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[c.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${u}+`),d("BUILD",`(?:\\+(${a[c.BUILDIDENTIFIER]}(?:\\.${a[c.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${a[c.MAINVERSION]}${a[c.PRERELEASE]}?${a[c.BUILD]}?`),d("FULL",`^${a[c.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${a[c.MAINVERSIONLOOSE]}${a[c.PRERELEASELOOSE]}?${a[c.BUILD]}?`),d("LOOSE",`^${a[c.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${a[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${a[c.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:\\.(${a[c.XRANGEIDENTIFIER]})(?:${a[c.PRERELEASE]})?${a[c.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[c.XRANGEIDENTIFIERLOOSE]})(?:${a[c.PRERELEASELOOSE]})?${a[c.BUILD]}?)?)?`),d("XRANGE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${a[c.GTLT]}\\s*${a[c.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),d("COERCERTL",a[c.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${a[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",d("TILDE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${a[c.LONETILDE]}${a[c.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${a[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",d("CARET",`^${a[c.LONECARET]}${a[c.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${a[c.LONECARET]}${a[c.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${a[c.GTLT]}\\s*(${a[c.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${a[c.GTLT]}\\s*(${a[c.LOOSEPLAIN]}|${a[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${a[c.XRANGEPLAIN]})\\s+-\\s+(${a[c.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${a[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[c.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(tr,tr.exports);const Xc=/^[0-9]+$/,Yl=(t,e)=>{const r=Xc.test(t),n=Xc.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Ip=(t,e)=>Yl(e,t);var Kl={compareIdentifiers:Yl,rcompareIdentifiers:Ip};const Bn=Si,{MAX_LENGTH:eu,MAX_SAFE_INTEGER:Vn}=wi,{safeRe:tu,t:ru}=tr.exports,Rp=ya,{compareIdentifiers:dr}=Kl;class Xe{constructor(e,r){if(r=Rp(r),e instanceof Xe){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>eu)throw new TypeError(`version is longer than ${eu} characters`);Bn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?tu[ru.LOOSE]:tu[ru.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Vn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Vn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Vn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Vn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Bn("SemVer.compare",this.version,this.options,e),!(e instanceof Xe)){if(typeof e=="string"&&e===this.version)return 0;e=new Xe(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Xe||(e=new Xe(e,this.options)),dr(this.major,e.major)||dr(this.minor,e.minor)||dr(this.patch,e.patch)}comparePre(e){if(e instanceof Xe||(e=new Xe(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return dr(n,i)}while(++r)}compareBuild(e){e instanceof Xe||(e=new Xe(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Bn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return dr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),dr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var Te=Xe;const nu=Te,kp=(t,e,r)=>new nu(t,r).compare(new nu(e,r));var rt=kp;const xp=rt,Mp=(t,e,r)=>xp(t,e,r)===0;var Xl=Mp;const Ap=rt,Np=(t,e,r)=>Ap(t,e,r)!==0;var eh=Np;const Tp=rt,Op=(t,e,r)=>Tp(t,e,r)>0;var Ei=Op;const Lp=rt,$p=(t,e,r)=>Lp(t,e,r)>=0;var _a=$p;const Pp=rt,jp=(t,e,r)=>Pp(t,e,r)<0;var wa=jp;const Dp=rt,Fp=(t,e,r)=>Dp(t,e,r)<=0;var Sa=Fp;const Bp=Xl,Vp=eh,Hp=Ei,Wp=_a,zp=wa,Up=Sa,qp=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Bp(t,r,n);case"!=":return Vp(t,r,n);case">":return Hp(t,r,n);case">=":return Wp(t,r,n);case"<":return zp(t,r,n);case"<=":return Up(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var th=qp,wo,iu;function Ci(){if(iu)return wo;iu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,f){if(f=r(f),u instanceof e){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const f=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],h=u.match(f);if(!h)throw new TypeError(`Invalid comparator: ${u}`);this.operator=h[1]!==void 0?h[1]:"",this.operator==="="&&(this.operator=""),h[2]?this.semver=new a(h[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,f).test(u.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}wo=e;const r=ya,{safeRe:n,t:i}=tr.exports,s=th,o=Si,a=Te,c=nt();return wo}var So,su;function nt(){if(su)return So;su=1;class t{constructor(y,k){if(k=n(k),y instanceof t)return y.loose===!!k.loose&&y.includePrerelease===!!k.includePrerelease?y:new t(y.raw,k);if(y instanceof i)return this.raw=y.value,this.set=[[y]],this.format(),this;if(this.options=k,this.loose=!!k.loose,this.includePrerelease=!!k.includePrerelease,this.raw=y.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(C=>this.parseRange(C)).filter(C=>C.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const C=this.set[0];if(this.set=this.set.filter(T=>!p(T[0])),this.set.length===0)this.set=[C];else if(this.set.length>1){for(const T of this.set)if(T.length===1&&_(T[0])){this.set=[T];break}}}this.format()}format(){return this.range=this.set.map(y=>y.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(y){const C=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+y,T=r.get(C);if(T)return T;const R=this.options.loose,$=R?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];y=y.replace($,ne(this.options.includePrerelease)),s("hyphen replace",y),y=y.replace(a[c.COMPARATORTRIM],l),s("comparator trim",y),y=y.replace(a[c.TILDETRIM],u),s("tilde trim",y),y=y.replace(a[c.CARETTRIM],f),s("caret trim",y);let J=y.split(" ").map(ie=>g(ie,this.options)).join(" ").split(/\s+/).map(ie=>q(ie,this.options));R&&(J=J.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(a[c.COMPARATORLOOSE])))),s("range list",J);const D=new Map,ee=J.map(ie=>new i(ie,this.options));for(const ie of ee){if(p(ie))return[ie];D.set(ie.value,ie)}D.size>1&&D.has("")&&D.delete("");const Se=[...D.values()];return r.set(C,Se),Se}intersects(y,k){if(!(y instanceof t))throw new TypeError("a Range is required");return this.set.some(C=>v(C,k)&&y.set.some(T=>v(T,k)&&C.every(R=>T.every($=>R.intersects($,k)))))}test(y){if(!y)return!1;if(typeof y=="string")try{y=new o(y,this.options)}catch{return!1}for(let k=0;k<this.set.length;k++)if(U(this.set[k],y,this.options))return!0;return!1}}So=t;const e=gp,r=new e({max:1e3}),n=ya,i=Ci(),s=Si,o=Te,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:f}=tr.exports,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=wi,p=S=>S.value==="<0.0.0-0",_=S=>S.value==="",v=(S,y)=>{let k=!0;const C=S.slice();let T=C.pop();for(;k&&C.length;)k=C.every(R=>T.intersects(R,y)),T=C.pop();return k},g=(S,y)=>(s("comp",S,y),S=E(S,y),s("caret",S),S=w(S,y),s("tildes",S),S=H(S,y),s("xrange",S),S=L(S,y),s("stars",S),S),m=S=>!S||S.toLowerCase()==="x"||S==="*",w=(S,y)=>S.trim().split(/\s+/).map(k=>I(k,y)).join(" "),I=(S,y)=>{const k=y.loose?a[c.TILDELOOSE]:a[c.TILDE];return S.replace(k,(C,T,R,$,J)=>{s("tilde",S,C,T,R,$,J);let D;return m(T)?D="":m(R)?D=`>=${T}.0.0 <${+T+1}.0.0-0`:m($)?D=`>=${T}.${R}.0 <${T}.${+R+1}.0-0`:J?(s("replaceTilde pr",J),D=`>=${T}.${R}.${$}-${J} <${T}.${+R+1}.0-0`):D=`>=${T}.${R}.${$} <${T}.${+R+1}.0-0`,s("tilde return",D),D})},E=(S,y)=>S.trim().split(/\s+/).map(k=>A(k,y)).join(" "),A=(S,y)=>{s("caret",S,y);const k=y.loose?a[c.CARETLOOSE]:a[c.CARET],C=y.includePrerelease?"-0":"";return S.replace(k,(T,R,$,J,D)=>{s("caret",S,T,R,$,J,D);let ee;return m(R)?ee="":m($)?ee=`>=${R}.0.0${C} <${+R+1}.0.0-0`:m(J)?R==="0"?ee=`>=${R}.${$}.0${C} <${R}.${+$+1}.0-0`:ee=`>=${R}.${$}.0${C} <${+R+1}.0.0-0`:D?(s("replaceCaret pr",D),R==="0"?$==="0"?ee=`>=${R}.${$}.${J}-${D} <${R}.${$}.${+J+1}-0`:ee=`>=${R}.${$}.${J}-${D} <${R}.${+$+1}.0-0`:ee=`>=${R}.${$}.${J}-${D} <${+R+1}.0.0-0`):(s("no pr"),R==="0"?$==="0"?ee=`>=${R}.${$}.${J}${C} <${R}.${$}.${+J+1}-0`:ee=`>=${R}.${$}.${J}${C} <${R}.${+$+1}.0-0`:ee=`>=${R}.${$}.${J} <${+R+1}.0.0-0`),s("caret return",ee),ee})},H=(S,y)=>(s("replaceXRanges",S,y),S.split(/\s+/).map(k=>z(k,y)).join(" ")),z=(S,y)=>{S=S.trim();const k=y.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return S.replace(k,(C,T,R,$,J,D)=>{s("xRange",S,C,T,R,$,J,D);const ee=m(R),Se=ee||m($),ie=Se||m(J),It=ie;return T==="="&&It&&(T=""),D=y.includePrerelease?"-0":"",ee?T===">"||T==="<"?C="<0.0.0-0":C="*":T&&It?(Se&&($=0),J=0,T===">"?(T=">=",Se?(R=+R+1,$=0,J=0):($=+$+1,J=0)):T==="<="&&(T="<",Se?R=+R+1:$=+$+1),T==="<"&&(D="-0"),C=`${T+R}.${$}.${J}${D}`):Se?C=`>=${R}.0.0${D} <${+R+1}.0.0-0`:ie&&(C=`>=${R}.${$}.0${D} <${R}.${+$+1}.0-0`),s("xRange return",C),C})},L=(S,y)=>(s("replaceStars",S,y),S.trim().replace(a[c.STAR],"")),q=(S,y)=>(s("replaceGTE0",S,y),S.trim().replace(a[y.includePrerelease?c.GTE0PRE:c.GTE0],"")),ne=S=>(y,k,C,T,R,$,J,D,ee,Se,ie,It,ys)=>(m(C)?k="":m(T)?k=`>=${C}.0.0${S?"-0":""}`:m(R)?k=`>=${C}.${T}.0${S?"-0":""}`:$?k=`>=${k}`:k=`>=${k}${S?"-0":""}`,m(ee)?D="":m(Se)?D=`<${+ee+1}.0.0-0`:m(ie)?D=`<${ee}.${+Se+1}.0-0`:It?D=`<=${ee}.${Se}.${ie}-${It}`:S?D=`<${ee}.${Se}.${+ie+1}-0`:D=`<=${D}`,`${k} ${D}`.trim()),U=(S,y,k)=>{for(let C=0;C<S.length;C++)if(!S[C].test(y))return!1;if(y.prerelease.length&&!k.includePrerelease){for(let C=0;C<S.length;C++)if(s(S[C].semver),S[C].semver!==i.ANY&&S[C].semver.prerelease.length>0){const T=S[C].semver;if(T.major===y.major&&T.minor===y.minor&&T.patch===y.patch)return!0}return!1}return!0};return So}const Gp=nt(),Jp=(t,e,r)=>{try{e=new Gp(e,r)}catch{return!1}return e.test(t)};var Ii=Jp;const{Transform:Qp}=Jl.exports;var Zp=t=>class rh extends Qp{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!B.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return B.Buffer.isBuffer(r)||(r=B.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new rh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Yp}=Jl.exports;var Kp=t=>class nh extends Yp{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!B.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return B.Buffer.isBuffer(r)||(r=B.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new nh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Xp=Zp,e0=Kp;var t0=function(t){const e=Xp(t),r=e0(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},ih={};const ou=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];ih.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],u=t[8]^t[18]^t[28]^t[38]^t[48],f=t[9]^t[19]^t[29]^t[39]^t[49];let h=u^(i<<1|s>>>31),d=f^(s<<1|i>>>31);const p=t[0]^h,_=t[1]^d,v=t[10]^h,g=t[11]^d,m=t[20]^h,w=t[21]^d,I=t[30]^h,E=t[31]^d,A=t[40]^h,H=t[41]^d;h=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const z=t[2]^h,L=t[3]^d,q=t[12]^h,ne=t[13]^d,U=t[22]^h,S=t[23]^d,y=t[32]^h,k=t[33]^d,C=t[42]^h,T=t[43]^d;h=i^(c<<1|l>>>31),d=s^(l<<1|c>>>31);const R=t[4]^h,$=t[5]^d,J=t[14]^h,D=t[15]^d,ee=t[24]^h,Se=t[25]^d,ie=t[34]^h,It=t[35]^d,ys=t[44]^h,xc=t[45]^d;h=o^(u<<1|f>>>31),d=a^(f<<1|u>>>31);const Mc=t[6]^h,Ac=t[7]^d,Nc=t[16]^h,Tc=t[17]^d,Oc=t[26]^h,Lc=t[27]^d,$c=t[36]^h,Pc=t[37]^d,jc=t[46]^h,Dc=t[47]^d;h=c^(r<<1|n>>>31),d=l^(n<<1|r>>>31);const Fc=t[8]^h,Bc=t[9]^d,Vc=t[18]^h,Hc=t[19]^d,Wc=t[28]^h,zc=t[29]^d,Uc=t[38]^h,qc=t[39]^d,Gc=t[48]^h,Jc=t[49]^d,_s=p,ws=_,Ss=g<<4|v>>>28,Es=v<<4|g>>>28,Cs=m<<3|w>>>29,Is=w<<3|m>>>29,Rs=E<<9|I>>>23,ks=I<<9|E>>>23,xs=A<<18|H>>>14,Ms=H<<18|A>>>14,As=z<<1|L>>>31,Ns=L<<1|z>>>31,Ts=ne<<12|q>>>20,Os=q<<12|ne>>>20,Ls=U<<10|S>>>22,$s=S<<10|U>>>22,Ps=k<<13|y>>>19,js=y<<13|k>>>19,Ds=C<<2|T>>>30,Fs=T<<2|C>>>30,Bs=$<<30|R>>>2,Vs=R<<30|$>>>2,Hs=J<<6|D>>>26,Ws=D<<6|J>>>26,zs=Se<<11|ee>>>21,Us=ee<<11|Se>>>21,qs=ie<<15|It>>>17,Gs=It<<15|ie>>>17,Js=xc<<29|ys>>>3,Qs=ys<<29|xc>>>3,Zs=Mc<<28|Ac>>>4,Ys=Ac<<28|Mc>>>4,Ks=Tc<<23|Nc>>>9,Xs=Nc<<23|Tc>>>9,eo=Oc<<25|Lc>>>7,to=Lc<<25|Oc>>>7,ro=$c<<21|Pc>>>11,no=Pc<<21|$c>>>11,io=Dc<<24|jc>>>8,so=jc<<24|Dc>>>8,oo=Fc<<27|Bc>>>5,ao=Bc<<27|Fc>>>5,co=Vc<<20|Hc>>>12,uo=Hc<<20|Vc>>>12,lo=zc<<7|Wc>>>25,ho=Wc<<7|zc>>>25,fo=Uc<<8|qc>>>24,po=qc<<8|Uc>>>24,go=Gc<<14|Jc>>>18,bo=Jc<<14|Gc>>>18;t[0]=_s^~Ts&zs,t[1]=ws^~Os&Us,t[10]=Zs^~co&Cs,t[11]=Ys^~uo&Is,t[20]=As^~Hs&eo,t[21]=Ns^~Ws&to,t[30]=oo^~Ss&Ls,t[31]=ao^~Es&$s,t[40]=Bs^~Ks&lo,t[41]=Vs^~Xs&ho,t[2]=Ts^~zs&ro,t[3]=Os^~Us&no,t[12]=co^~Cs&Ps,t[13]=uo^~Is&js,t[22]=Hs^~eo&fo,t[23]=Ws^~to&po,t[32]=Ss^~Ls&qs,t[33]=Es^~$s&Gs,t[42]=Ks^~lo&Rs,t[43]=Xs^~ho&ks,t[4]=zs^~ro&go,t[5]=Us^~no&bo,t[14]=Cs^~Ps&Js,t[15]=Is^~js&Qs,t[24]=eo^~fo&xs,t[25]=to^~po&Ms,t[34]=Ls^~qs&io,t[35]=$s^~Gs&so,t[44]=lo^~Rs&Ds,t[45]=ho^~ks&Fs,t[6]=ro^~go&_s,t[7]=no^~bo&ws,t[16]=Ps^~Js&Zs,t[17]=js^~Qs&Ys,t[26]=fo^~xs&As,t[27]=po^~Ms&Ns,t[36]=qs^~io&oo,t[37]=Gs^~so&ao,t[46]=Rs^~Ds&Bs,t[47]=ks^~Fs&Vs,t[8]=go^~_s&Ts,t[9]=bo^~ws&Os,t[18]=Js^~Zs&co,t[19]=Qs^~Ys&uo,t[28]=xs^~As&Hs,t[29]=Ms^~Ns&Ws,t[38]=io^~oo&Ss,t[39]=so^~ao&Es,t[48]=Ds^~Bs&Ks,t[49]=Fs^~Vs&Xs,t[0]^=ou[e*2],t[1]^=ou[e*2+1]}};const ai=ih;function Dr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Dr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Dr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(ai.p1600(this.state),this.count=0)};Dr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&ai.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),ai.p1600(this.state),this.count=0,this.squeezing=!0};Dr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=B.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(ai.p1600(this.state),this.count=0);return e};Dr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var r0=Dr,n0=t0(r0),Ea={},fn={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.walletLogo=void 0;const i0=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Ri.walletLogo=i0;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.ScopedLocalStorage=void 0;class s0{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}ki.ScopedLocalStorage=s0;var Ir={},or={};Object.defineProperty(or,"__esModule",{value:!0});const o0=Yd.exports;function au(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function a0(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class c0 extends o0.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")au(s,this,r);else{const o=s.length,a=a0(s);for(let c=0;c<o;c+=1)au(a[c],this,r)}return!0}}or.default=c0;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.EVENTS=void 0;Fr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var yn={},sh={},Lt={},oh=dn;dn.default=dn;dn.stable=uh;dn.stableStringify=uh;var ci="[...]",ah="[Circular]",rr=[],Kt=[];function ch(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function dn(t,e,r,n){typeof n>"u"&&(n=ch()),Yo(t,"",0,[],void 0,0,n);var i;try{Kt.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,lh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;rr.length!==0;){var s=rr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function wr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),rr.push([n,r,e,i])):Kt.push([e,r,t]):(n[r]=t,rr.push([n,r,e]))}function Yo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){wr(ah,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){wr(ci,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){wr(ci,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Yo(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];Yo(t[l],l,a,n,t,s,o)}}n.pop()}}function u0(t,e){return t<e?-1:t>e?1:0}function uh(t,e,r,n){typeof n>"u"&&(n=ch());var i=Ko(t,"",0,[],void 0,0,n)||t,s;try{Kt.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,lh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;rr.length!==0;){var o=rr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Ko(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){wr(ah,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){wr(ci,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){wr(ci,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ko(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(u0);for(a=0;a<l.length;a++){var u=l[a];Ko(t[u],u,a,n,t,s,o),c[u]=t[u]}if(typeof i<"u")rr.push([i,e,t]),i[e]=c;else return c}n.pop()}}function lh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Kt.length>0)for(var n=0;n<Kt.length;n++){var i=Kt[n];if(i[1]===e&&i[0]===r){r=i[2],Kt.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Lt,"__esModule",{value:!0});Lt.EthereumProviderError=Lt.EthereumRpcError=void 0;const l0=oh;class hh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return l0.default(this.serialize(),d0,2)}}Lt.EthereumRpcError=hh;class h0 extends hh{constructor(e,r,n){if(!f0(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Lt.EthereumProviderError=h0;function f0(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function d0(t,e){if(e!=="[Circular]")return e}var Ca={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.errorValues=$t.errorCodes=void 0;$t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};$t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=$t,r=Lt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,d=i){if(Number.isInteger(h)){const p=h.toString();if(f(e.errorValues,p))return e.errorValues[p].message;if(l(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(e.errorValues[d]||l(h))}t.isValidCode=a;function c(h,{fallbackError:d=s,shouldIncludeStack:p=!1}={}){var _,v;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const w=h;g.code=w.code,w.message&&typeof w.message=="string"?(g.message=w.message,f(w,"data")&&(g.data=w.data)):(g.message=o(g.code),g.data={originalError:u(h)})}else{g.code=d.code;const w=(_=h)===null||_===void 0?void 0:_.message;g.message=w&&typeof w=="string"?w:d.message,g.data={originalError:u(h)}}const m=(v=h)===null||v===void 0?void 0:v.stack;return p&&h&&m&&typeof m=="string"&&(g.stack=m),g}t.serializeError=c;function l(h){return h>=-32099&&h<=-32e3}function u(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,d){return Object.prototype.hasOwnProperty.call(h,d)}})(Ca);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.ethErrors=void 0;const Ia=Lt,fh=Ca,Ee=$t;xi.ethErrors={rpc:{parse:t=>Fe(Ee.errorCodes.rpc.parse,t),invalidRequest:t=>Fe(Ee.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Fe(Ee.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Fe(Ee.errorCodes.rpc.methodNotFound,t),internal:t=>Fe(Ee.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Fe(e,t)},invalidInput:t=>Fe(Ee.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Fe(Ee.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Fe(Ee.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Fe(Ee.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Fe(Ee.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Fe(Ee.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Zr(Ee.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Zr(Ee.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Zr(Ee.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Zr(Ee.errorCodes.provider.disconnected,t),chainDisconnected:t=>Zr(Ee.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ia.EthereumProviderError(e,r,n)}}};function Fe(t,e){const[r,n]=dh(e);return new Ia.EthereumRpcError(t,r||fh.getMessageFromCode(t),n)}function Zr(t,e){const[r,n]=dh(e);return new Ia.EthereumProviderError(t,r||fh.getMessageFromCode(t),n)}function dh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Lt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ca;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=xi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=$t;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(sh);var te={},Mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Mi);Object.defineProperty(te,"__esModule",{value:!0});te.EthereumAddressFromSignedMessageResponse=te.SubmitEthereumTransactionResponse=te.SignEthereumTransactionResponse=te.SignEthereumMessageResponse=te.isRequestEthereumAccountsResponse=te.SelectProviderResponse=te.WatchAssetReponse=te.RequestEthereumAccountsResponse=te.SwitchEthereumChainResponse=te.AddEthereumChainResponse=te.isErrorResponse=void 0;const gt=Mi;function p0(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}te.isErrorResponse=p0;function g0(t){return{method:gt.Web3Method.addEthereumChain,result:t}}te.AddEthereumChainResponse=g0;function b0(t){return{method:gt.Web3Method.switchEthereumChain,result:t}}te.SwitchEthereumChainResponse=b0;function m0(t){return{method:gt.Web3Method.requestEthereumAccounts,result:t}}te.RequestEthereumAccountsResponse=m0;function v0(t){return{method:gt.Web3Method.watchAsset,result:t}}te.WatchAssetReponse=v0;function y0(t){return{method:gt.Web3Method.selectProvider,result:t}}te.SelectProviderResponse=y0;function _0(t){return t&&t.method===gt.Web3Method.requestEthereumAccounts}te.isRequestEthereumAccountsResponse=_0;function w0(t){return{method:gt.Web3Method.signEthereumMessage,result:t}}te.SignEthereumMessageResponse=w0;function S0(t){return{method:gt.Web3Method.signEthereumTransaction,result:t}}te.SignEthereumTransactionResponse=S0;function E0(t){return{method:gt.Web3Method.submitEthereumTransaction,result:t}}te.SubmitEthereumTransactionResponse=E0;function C0(t){return{method:gt.Web3Method.ethereumAddressFromSignedMessage,result:t}}te.EthereumAddressFromSignedMessageResponse=C0;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.LIB_VERSION=void 0;_n.LIB_VERSION="3.7.1";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=sh,r=te,n=_n;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(u){return u!==void 0?(0,e.getMessageFromCode)(u):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(u="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${u}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(u,f){const h=(0,e.serializeError)(o(u),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",h.code.toString());const p=a(h.data,f);return p&&d.searchParams.set("method",p),d.searchParams.set("message",h.message),Object.assign(Object.assign({},h),{docUrl:d.href})}t.serializeError=s;function o(u){return typeof u=="string"?{message:u,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(u)?Object.assign(Object.assign({},u),{message:u.errorMessage,code:u.errorCode,data:{method:u.method,result:u.result}}):u}function a(u,f){var h;const d=(h=u)===null||h===void 0?void 0:h.method;if(d)return d;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(u){var f;if(typeof u=="number")return u;if(l(u))return(f=u.code)!==null&&f!==void 0?f:u.errorCode}t.getErrorCode=c;function l(u){return typeof u=="object"&&u!==null&&(typeof u.code=="number"||typeof u.errorCode=="number")}})(yn);var Br={},x={};const I0={},R0=Object.freeze(Object.defineProperty({__proto__:null,default:I0},Symbol.toStringTag,{value:"Module"})),k0=Vt(R0);var Ra=typeof Map=="function"&&Map.prototype,Eo=Object.getOwnPropertyDescriptor&&Ra?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ui=Ra&&Eo&&typeof Eo.get=="function"?Eo.get:null,cu=Ra&&Map.prototype.forEach,ka=typeof Set=="function"&&Set.prototype,Co=Object.getOwnPropertyDescriptor&&ka?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,li=ka&&Co&&typeof Co.get=="function"?Co.get:null,uu=ka&&Set.prototype.forEach,x0=typeof WeakMap=="function"&&WeakMap.prototype,sn=x0?WeakMap.prototype.has:null,M0=typeof WeakSet=="function"&&WeakSet.prototype,on=M0?WeakSet.prototype.has:null,A0=typeof WeakRef=="function"&&WeakRef.prototype,lu=A0?WeakRef.prototype.deref:null,N0=Boolean.prototype.valueOf,T0=Object.prototype.toString,O0=Function.prototype.toString,L0=String.prototype.match,xa=String.prototype.slice,Tt=String.prototype.replace,$0=String.prototype.toUpperCase,hu=String.prototype.toLowerCase,ph=RegExp.prototype.test,fu=Array.prototype.concat,ut=Array.prototype.join,P0=Array.prototype.slice,du=Math.floor,Xo=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Io=Object.getOwnPropertySymbols,ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ke=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Rr?"object":"symbol")?Symbol.toStringTag:null,gh=Object.prototype.propertyIsEnumerable,pu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function gu(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ph.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-du(-t):du(t);if(n!==t){var i=String(n),s=xa.call(e,i.length+1);return Tt.call(i,r,"$&_")+"."+Tt.call(Tt.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Tt.call(e,r,"$&_")}var ta=k0,bu=ta.custom,mu=mh(bu)?bu:null,j0=function t(e,r,n,i){var s=r||{};if(Mt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Mt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return yh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?gu(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?gu(e,l):l}var u=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof e=="object")return ra(e)?"[Array]":"[Object]";var f=tg(s,n);if(typeof i>"u")i=[];else if(vh(i,e)>=0)return"[Circular]";function h(S,y,k){if(y&&(i=P0.call(i),i.push(y)),k){var C={depth:s.depth};return Mt(s,"quoteStyle")&&(C.quoteStyle=s.quoteStyle),t(S,C,n+1,i)}return t(S,s,n+1,i)}if(typeof e=="function"&&!vu(e)){var d=q0(e),p=Hn(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+ut.call(p,", ")+" }":"")}if(mh(e)){var _=Rr?Tt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ea.call(e);return typeof e=="object"&&!Rr?Yr(_):_}if(K0(e)){for(var v="<"+hu.call(String(e.nodeName)),g=e.attributes||[],m=0;m<g.length;m++)v+=" "+g[m].name+"="+bh(D0(g[m].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+hu.call(String(e.nodeName))+">",v}if(ra(e)){if(e.length===0)return"[]";var w=Hn(e,h);return f&&!eg(w)?"["+na(w,f)+"]":"[ "+ut.call(w,", ")+" ]"}if(B0(e)){var I=Hn(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!gh.call(e,"cause")?"{ ["+String(e)+"] "+ut.call(fu.call("[cause]: "+h(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ut.call(I,", ")+" }"}if(typeof e=="object"&&o){if(mu&&typeof e[mu]=="function"&&ta)return ta(e,{depth:u-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(G0(e)){var E=[];return cu&&cu.call(e,function(S,y){E.push(h(y,e,!0)+" => "+h(S,e))}),yu("Map",ui.call(e),E,f)}if(Z0(e)){var A=[];return uu&&uu.call(e,function(S){A.push(h(S,e))}),yu("Set",li.call(e),A,f)}if(J0(e))return Ro("WeakMap");if(Y0(e))return Ro("WeakSet");if(Q0(e))return Ro("WeakRef");if(H0(e))return Yr(h(Number(e)));if(z0(e))return Yr(h(Xo.call(e)));if(W0(e))return Yr(N0.call(e));if(V0(e))return Yr(h(String(e)));if(!F0(e)&&!vu(e)){var H=Hn(e,h),z=pu?pu(e)===Object.prototype:e instanceof Object||e.constructor===Object,L=e instanceof Object?"":"null prototype",q=!z&&ke&&Object(e)===e&&ke in e?xa.call(Ht(e),8,-1):L?"Object":"",ne=z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",U=ne+(q||L?"["+ut.call(fu.call([],q||[],L||[]),": ")+"] ":"");return H.length===0?U+"{}":f?U+"{"+na(H,f)+"}":U+"{ "+ut.call(H,", ")+" }"}return String(e)};function bh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function D0(t){return Tt.call(String(t),/"/g,"&quot;")}function ra(t){return Ht(t)==="[object Array]"&&(!ke||!(typeof t=="object"&&ke in t))}function F0(t){return Ht(t)==="[object Date]"&&(!ke||!(typeof t=="object"&&ke in t))}function vu(t){return Ht(t)==="[object RegExp]"&&(!ke||!(typeof t=="object"&&ke in t))}function B0(t){return Ht(t)==="[object Error]"&&(!ke||!(typeof t=="object"&&ke in t))}function V0(t){return Ht(t)==="[object String]"&&(!ke||!(typeof t=="object"&&ke in t))}function H0(t){return Ht(t)==="[object Number]"&&(!ke||!(typeof t=="object"&&ke in t))}function W0(t){return Ht(t)==="[object Boolean]"&&(!ke||!(typeof t=="object"&&ke in t))}function mh(t){if(Rr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ea)return!1;try{return ea.call(t),!0}catch{}return!1}function z0(t){if(!t||typeof t!="object"||!Xo)return!1;try{return Xo.call(t),!0}catch{}return!1}var U0=Object.prototype.hasOwnProperty||function(t){return t in this};function Mt(t,e){return U0.call(t,e)}function Ht(t){return T0.call(t)}function q0(t){if(t.name)return t.name;var e=L0.call(O0.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function vh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function G0(t){if(!ui||!t||typeof t!="object")return!1;try{ui.call(t);try{li.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function J0(t){if(!sn||!t||typeof t!="object")return!1;try{sn.call(t,sn);try{on.call(t,on)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Q0(t){if(!lu||!t||typeof t!="object")return!1;try{return lu.call(t),!0}catch{}return!1}function Z0(t){if(!li||!t||typeof t!="object")return!1;try{li.call(t);try{ui.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Y0(t){if(!on||!t||typeof t!="object")return!1;try{on.call(t,on);try{sn.call(t,sn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function K0(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function yh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return yh(xa.call(t,0,e.maxStringLength),e)+n}var i=Tt.call(Tt.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,X0);return bh(i,"single",e)}function X0(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+$0.call(e.toString(16))}function Yr(t){return"Object("+t+")"}function Ro(t){return t+" { ? }"}function yu(t,e,r,n){var i=n?na(r,n):ut.call(r,", ");return t+" ("+e+") {"+i+"}"}function eg(t){for(var e=0;e<t.length;e++)if(vh(t[e],`
`)>=0)return!1;return!0}function tg(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ut.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ut.call(Array(e+1),r)}}function na(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ut.call(t,","+r)+`
`+e.prev}function Hn(t,e){var r=ra(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Mt(t,i)?e(t[i],t):""}var s=typeof Io=="function"?Io(t):[],o;if(Rr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!Mt(t,c)||r&&String(Number(c))===c&&c<t.length||Rr&&o["$"+c]instanceof Symbol||(ph.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof Io=="function")for(var l=0;l<s.length;l++)gh.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var Ma=Kd,Vr=Xd,rg=j0,ng=Ma("%TypeError%"),Wn=Ma("%WeakMap%",!0),zn=Ma("%Map%",!0),ig=Vr("WeakMap.prototype.get",!0),sg=Vr("WeakMap.prototype.set",!0),og=Vr("WeakMap.prototype.has",!0),ag=Vr("Map.prototype.get",!0),cg=Vr("Map.prototype.set",!0),ug=Vr("Map.prototype.has",!0),Aa=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},lg=function(t,e){var r=Aa(t,e);return r&&r.value},hg=function(t,e,r){var n=Aa(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},fg=function(t,e){return!!Aa(t,e)},dg=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new ng("Side channel does not contain "+rg(s))},get:function(s){if(Wn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ig(e,s)}else if(zn){if(r)return ag(r,s)}else if(n)return lg(n,s)},has:function(s){if(Wn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return og(e,s)}else if(zn){if(r)return ug(r,s)}else if(n)return fg(n,s);return!1},set:function(s,o){Wn&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Wn),sg(e,s,o)):zn?(r||(r=new zn),cg(r,s,o)):(n||(n={key:{},next:null}),hg(n,s,o))}};return i},pg=String.prototype.replace,gg=/%20/g,ko={RFC1738:"RFC1738",RFC3986:"RFC3986"},Na={default:ko.RFC3986,formatters:{RFC1738:function(t){return pg.call(t,gg,"+")},RFC3986:function(t){return String(t)}},RFC1738:ko.RFC1738,RFC3986:ko.RFC3986},bg=Na,xo=Object.prototype.hasOwnProperty,Gt=Array.isArray,it=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),mg=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Gt(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},_h=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},vg=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Gt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Gt(e)&&!Gt(r)&&(i=_h(e,n)),Gt(e)&&Gt(r)?(r.forEach(function(s,o){if(xo.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return xo.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},yg=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},_g=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wg=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===bg.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+it[l];continue}if(l<2048){a=a+(it[192|l>>6]+it[128|l&63]);continue}if(l<55296||l>=57344){a=a+(it[224|l>>12]+it[128|l>>6&63]+it[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=it[240|l>>18]+it[128|l>>12&63]+it[128|l>>6&63]+it[128|l&63]}return a},Sg=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],u=o[l];typeof u=="object"&&u!==null&&n.indexOf(u)===-1&&(r.push({obj:o,prop:l}),n.push(u))}return mg(r),e},Eg=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Cg=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ig=function(e,r){return[].concat(e,r)},Rg=function(e,r){if(Gt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},wh={arrayToObject:_h,assign:yg,combine:Ig,compact:Sg,decode:_g,encode:wg,isBuffer:Cg,isRegExp:Eg,maybeMap:Rg,merge:vg},Sh=dg,ti=wh,an=Na,kg=Object.prototype.hasOwnProperty,_u={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},yt=Array.isArray,xg=Array.prototype.push,Eh=function(t,e){xg.apply(t,yt(e)?e:[e])},Mg=Date.prototype.toISOString,wu=an.default,Re={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ti.encode,encodeValuesOnly:!1,format:wu,formatter:an.formatters[wu],indices:!1,serializeDate:function(e){return Mg.call(e)},skipNulls:!1,strictNullHandling:!1},Ag=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mo={},Ng=function t(e,r,n,i,s,o,a,c,l,u,f,h,d,p,_,v){for(var g=e,m=v,w=0,I=!1;(m=m.get(Mo))!==void 0&&!I;){var E=m.get(e);if(w+=1,typeof E<"u"){if(E===w)throw new RangeError("Cyclic object value");I=!0}typeof m.get(Mo)>"u"&&(w=0)}if(typeof c=="function"?g=c(r,g):g instanceof Date?g=f(g):n==="comma"&&yt(g)&&(g=ti.maybeMap(g,function(C){return C instanceof Date?f(C):C})),g===null){if(s)return a&&!p?a(r,Re.encoder,_,"key",h):r;g=""}if(Ag(g)||ti.isBuffer(g)){if(a){var A=p?r:a(r,Re.encoder,_,"key",h);return[d(A)+"="+d(a(g,Re.encoder,_,"value",h))]}return[d(r)+"="+d(String(g))]}var H=[];if(typeof g>"u")return H;var z;if(n==="comma"&&yt(g))p&&a&&(g=ti.maybeMap(g,a)),z=[{value:g.length>0?g.join(",")||null:void 0}];else if(yt(c))z=c;else{var L=Object.keys(g);z=l?L.sort(l):L}for(var q=i&&yt(g)&&g.length===1?r+"[]":r,ne=0;ne<z.length;++ne){var U=z[ne],S=typeof U=="object"&&typeof U.value<"u"?U.value:g[U];if(!(o&&S===null)){var y=yt(g)?typeof n=="function"?n(q,U):q:q+(u?"."+U:"["+U+"]");v.set(e,w);var k=Sh();k.set(Mo,v),Eh(H,t(S,y,n,i,s,o,n==="comma"&&p&&yt(g)?null:a,c,l,u,f,h,d,p,_,k))}}return H},Tg=function(e){if(!e)return Re;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Re.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=an.default;if(typeof e.format<"u"){if(!kg.call(an.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=an.formatters[n],s=Re.filter;return(typeof e.filter=="function"||yt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Re.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Re.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Re.charsetSentinel,delimiter:typeof e.delimiter>"u"?Re.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Re.encode,encoder:typeof e.encoder=="function"?e.encoder:Re.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Re.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Re.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Re.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Re.strictNullHandling}},Og=function(t,e){var r=t,n=Tg(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):yt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in _u?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=_u[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Sh(),f=0;f<i.length;++f){var h=i[f];n.skipNulls&&r[h]===null||Eh(o,Ng(r[h],h,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},kr=wh,ia=Object.prototype.hasOwnProperty,Lg=Array.isArray,be={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:kr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},$g=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Ch=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Pg="utf8=%26%2310003%3B",jg="utf8=%E2%9C%93",Dg=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===jg?l="utf-8":o[c]===Pg&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var u=o[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,d,p;h===-1?(d=r.decoder(u,be.decoder,l,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,h),be.decoder,l,"key"),p=kr.maybeMap(Ch(u.slice(h+1),r),function(_){return r.decoder(_,be.decoder,l,"value")})),p&&r.interpretNumericEntities&&l==="iso-8859-1"&&(p=$g(p)),u.indexOf("[]=")>-1&&(p=Lg(p)?[p]:p),ia.call(n,d)?n[d]=kr.combine(n[d],p):n[d]=p}return n},Fg=function(t,e,r,n){for(var i=n?e:Ch(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Bg=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,u=[];if(l){if(!n.plainObjects&&ia.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var f=0;n.depth>0&&(c=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&ia.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+s.slice(c.index)+"]"),Fg(u,r,n,i)}},Vg=function(e){if(!e)return be;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?be.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?be.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:be.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:be.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:be.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:be.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:be.comma,decoder:typeof e.decoder=="function"?e.decoder:be.decoder,delimiter:typeof e.delimiter=="string"||kr.isRegExp(e.delimiter)?e.delimiter:be.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:be.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:be.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:be.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:be.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:be.strictNullHandling}},Hg=function(t,e){var r=Vg(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Dg(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Bg(a,n[a],r,typeof t=="string");i=kr.merge(i,c,r)}return r.allowSparse===!0?i:kr.compact(i)},Wg=Og,zg=Hg,Ug=Na,qg={formats:Ug,parse:zg,stringify:Wg},wn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(wn);var Gg=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x,"__esModule",{value:!0});x.isInIFrame=x.createQrUrl=x.getFavicon=x.range=x.isBigNumber=x.ensureParsedJSONObject=x.ensureBN=x.ensureRegExpString=x.ensureIntNumber=x.ensureBuffer=x.ensureAddressString=x.ensureEvenLengthHexString=x.ensureHexString=x.isHexString=x.prepend0x=x.strip0x=x.has0xPrefix=x.hexStringFromIntNumber=x.intNumberFromHexString=x.bigIntStringFromBN=x.hexStringFromBuffer=x.hexStringToUint8Array=x.uint8ArrayToHex=x.randomBytesHex=void 0;const At=Gg(_i.exports),Jg=qg,ar=yn,qe=wn,Ih=/^[0-9]*$/,Rh=/^[a-f0-9]*$/;function Qg(t){return kh(crypto.getRandomValues(new Uint8Array(t)))}x.randomBytesHex=Qg;function kh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}x.uint8ArrayToHex=kh;function Zg(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}x.hexStringToUint8Array=Zg;function Yg(t,e=!1){const r=t.toString("hex");return(0,qe.HexString)(e?"0x"+r:r)}x.hexStringFromBuffer=Yg;function Kg(t){return(0,qe.BigIntString)(t.toString(10))}x.bigIntStringFromBN=Kg;function Xg(t){return(0,qe.IntNumber)(new At.default(En(t,!1),16).toNumber())}x.intNumberFromHexString=Xg;function eb(t){return(0,qe.HexString)("0x"+new At.default(t).toString(16))}x.hexStringFromIntNumber=eb;function Ta(t){return t.startsWith("0x")||t.startsWith("0X")}x.has0xPrefix=Ta;function Ai(t){return Ta(t)?t.slice(2):t}x.strip0x=Ai;function xh(t){return Ta(t)?"0x"+t.slice(2):"0x"+t}x.prepend0x=xh;function Sn(t){if(typeof t!="string")return!1;const e=Ai(t).toLowerCase();return Rh.test(e)}x.isHexString=Sn;function Mh(t,e=!1){if(typeof t=="string"){const r=Ai(t).toLowerCase();if(Rh.test(r))return(0,qe.HexString)(e?"0x"+r:r)}throw ar.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}x.ensureHexString=Mh;function En(t,e=!1){let r=Mh(t,!1);return r.length%2===1&&(r=(0,qe.HexString)("0"+r)),e?(0,qe.HexString)("0x"+r):r}x.ensureEvenLengthHexString=En;function tb(t){if(typeof t=="string"){const e=Ai(t).toLowerCase();if(Sn(e)&&e.length===40)return(0,qe.AddressString)(xh(e))}throw ar.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}x.ensureAddressString=tb;function rb(t){if(B.Buffer.isBuffer(t))return t;if(typeof t=="string")if(Sn(t)){const e=En(t,!1);return B.Buffer.from(e,"hex")}else return B.Buffer.from(t,"utf8");throw ar.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}x.ensureBuffer=rb;function Ah(t){if(typeof t=="number"&&Number.isInteger(t))return(0,qe.IntNumber)(t);if(typeof t=="string"){if(Ih.test(t))return(0,qe.IntNumber)(Number(t));if(Sn(t))return(0,qe.IntNumber)(new At.default(En(t,!1),16).toNumber())}throw ar.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}x.ensureIntNumber=Ah;function nb(t){if(t instanceof RegExp)return(0,qe.RegExpString)(t.toString());throw ar.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}x.ensureRegExpString=nb;function ib(t){if(t!==null&&(At.default.isBN(t)||Nh(t)))return new At.default(t.toString(10),10);if(typeof t=="number")return new At.default(Ah(t));if(typeof t=="string"){if(Ih.test(t))return new At.default(t,10);if(Sn(t))return new At.default(En(t,!1),16)}throw ar.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}x.ensureBN=ib;function sb(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw ar.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}x.ensureParsedJSONObject=sb;function Nh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}x.isBigNumber=Nh;function ob(t,e){return Array.from({length:e-t},(r,n)=>t+n)}x.range=ob;function ab(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}x.getFavicon=ab;function cb(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Jg.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}x.createQrUrl=cb;function ub(){try{return window.frameElement!==null}catch{return!1}}x.isInIFrame=ub;Object.defineProperty(Br,"__esModule",{value:!0});Br.Session=void 0;const Su=ep.exports,Eu=x,Cu="session:id",Iu="session:secret",Ru="session:linked";class Oa{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Eu.randomBytesHex)(16),this._secret=n||(0,Eu.randomBytesHex)(32),this._key=new Su.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Cu),n=e.getItem(Ru),i=e.getItem(Iu);return r&&i?new Oa(e,r,i,n==="1"):null}static hash(e){return new Su.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Cu,this._id),this._storage.setItem(Iu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Ru,this._linked?"1":"0")}}Br.Session=Oa;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const ku=yn;tt.WALLET_USER_NAME_KEY="walletUsername";tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";tt.APP_VERSION_KEY="AppVersion";class lb{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw ku.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,ku.serializeError)(s,e.method);return i})}}tt.WalletSDKRelayAbstract=lb;const hb=n0,fb=_i.exports;function Th(t){return B.Buffer.allocUnsafe(t).fill(0)}function Oh(t,e,r){const n=Th(e);return t=Ni(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function db(t,e){return Oh(t,e,!0)}function Ni(t){if(!B.Buffer.isBuffer(t))if(Array.isArray(t))t=B.Buffer.from(t);else if(typeof t=="string")Lh(t)?t=B.Buffer.from(bb($h(t)),"hex"):t=B.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=B.Buffer.allocUnsafe(0);else if(fb.isBN(t))t=t.toArrayLike(B.Buffer);else if(t.toArray)t=B.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function pb(t){return t=Ni(t),"0x"+t.toString("hex")}function gb(t,e){return t=Ni(t),e||(e=256),hb("keccak"+e).update(t).digest()}function bb(t){return t.length%2?"0"+t:t}function Lh(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function $h(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Ph={zeros:Th,setLength:Oh,setLengthRight:db,isHexString:Lh,stripHexPrefix:$h,toBuffer:Ni,bufferToHex:pb,keccak:gb};const nr=Ph,Xt=_i.exports;function jh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Sr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function xu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Dh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Jt(t){var e=typeof t;if(e==="string")return nr.isHexString(t)?new Xt(nr.stripHexPrefix(t),16):new Xt(t,10);if(e==="number")return new Xt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function at(t,e){var r,n,i,s;if(t==="address")return at("uint160",Jt(e));if(t==="bool")return at("uint8",e?1:0);if(t==="string")return at("bytes",new B.Buffer(e,"utf8"));if(vb(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Dh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(at(t,e[s]));if(r==="dynamic"){var o=at("uint256",e.length);i.unshift(o)}return B.Buffer.concat(i)}else{if(t==="bytes")return e=new B.Buffer(e),i=B.Buffer.concat([at("uint256",e.length),e]),e.length%32!==0&&(i=B.Buffer.concat([i,nr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Sr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return nr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Sr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Jt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(B.Buffer,"be",32)}else if(t.startsWith("int")){if(r=Sr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Jt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(B.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=xu(t),n=Jt(e),n<0)throw new Error("Supplied ufixed is negative");return at("uint256",n.mul(new Xt(2).pow(new Xt(r[1]))))}else if(t.startsWith("fixed"))return r=xu(t),at("int256",Jt(e).mul(new Xt(2).pow(new Xt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function mb(t){return t==="string"||t==="bytes"||Dh(t)==="dynamic"}function vb(t){return t.lastIndexOf("]")===t.length-1}function yb(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=jh(t[s]),a=e[s],c=at(o,a);mb(o)?(r.push(at("uint256",i)),n.push(c),i+=c.length):r.push(c)}return B.Buffer.concat(r.concat(n))}function Fh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=jh(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new B.Buffer(a,"utf8"));else if(o==="bool")i.push(new B.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(nr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Sr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(nr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Sr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Jt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(B.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Sr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Jt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(B.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return B.Buffer.concat(i)}function _b(t,e){return nr.keccak(Fh(t,e))}var wb={rawEncode:yb,solidityPack:Fh,soliditySHA3:_b};const Ye=Ph,cn=wb,Bh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ao={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ye.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Ye.keccak(l)];if(c==="string")return typeof l=="string"&&(l=B.Buffer.from(l,"utf8")),["bytes32",Ye.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),f=l.map(h=>o(a,u,h));return["bytes32",Ye.keccak(cn.rawEncode(f.map(([h])=>h),f.map(([,h])=>h)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ye.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=B.Buffer.from(a,"utf8")),a=Ye.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ye.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return cn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ye.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ye.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Bh.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[B.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ye.keccak(B.Buffer.concat(n))}};var Sb={TYPED_MESSAGE_SCHEMA:Bh,TypedDataUtils:Ao,hashForSignTypedDataLegacy:function(t){return Eb(t.data)},hashForSignTypedData_v3:function(t){return Ao.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ao.hash(t.data)}};function Eb(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ye.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return cn.soliditySHA3(["bytes32","bytes32"],[cn.soliditySHA3(new Array(t.length).fill("string"),i),cn.soliditySHA3(n,r)])}var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.filterFromParam=xr.FilterPolyfill=void 0;const mr=wn,xe=x,Cb=5*60*1e3,Qt={jsonrpc:"2.0",id:0};class Ib{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,mr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Vh(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,xe.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,xe.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,xe.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,xe.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,xe.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Un())}async getFilterLogs(e){const r=(0,xe.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getLogs",params:[Mu(n)]})):Un()}makeFilterId(){return(0,mr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Un();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return qn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getLogs",params:[Mu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,xe.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,mr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Un();const n=await this.getCurrentBlockHeight();if(r>n)return qn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,xe.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,mr.IntNumber)(o))))).filter(o=>!!o),s=(0,mr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Qt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(qn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Cb);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_blockNumber",params:[]}));return(0,xe.intNumberFromHexString)((0,xe.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Qt),{method:"eth_getBlockByNumber",params:[(0,xe.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,xe.ensureHexString)(r.result.hash):null}}xr.FilterPolyfill=Ib;function Vh(t){return{fromBlock:Au(t.fromBlock),toBlock:Au(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}xr.filterFromParam=Vh;function Mu(t){const e={fromBlock:Nu(t.fromBlock),toBlock:Nu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Au(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,mr.IntNumber)(0);if((0,xe.isHexString)(t))return(0,xe.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Nu(t){return t==="latest"?t:(0,xe.hexStringFromIntNumber)(t)}function Un(){return Object.assign(Object.assign({},Qt),{error:{code:-32e3,message:"filter not found"}})}function qn(){return Object.assign(Object.assign({},Qt),{result:[]})}var Hh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Hh);var Ti={},Wh={},Oi={},La=Rb;function Rb(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Tu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var kb=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Tu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Tu(s,e):s}return n},Cn={},xb=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.BaseBlockTracker=void 0;const Mb=xb(or),Ab=1e3,Nb=(t,e)=>t+e,Ou=["sync","latest"];class Tb extends Mb.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Ab,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Ou.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Ou.map(e=>this.listenerCount(e)).reduce(Nb)}_newPotentialLatest(e){const r=this._currentBlock;r&&Lu(e)<=Lu(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Cn.BaseBlockTracker=Tb;function Lu(t){return Number.parseInt(t,16)}var zh={},Uh={},we={};class qh extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n!=null?n:n=[e,...r()]}}function Ob(t){return Ge(t)&&typeof t[Symbol.iterator]=="function"}function Ge(t){return typeof t=="object"&&t!=null}function $u(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function pe(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Lb(t){const{done:e,value:r}=t.next();return e?void 0:r}function $b(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pe(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*sa(t,e,r,n){Ob(t)||(t=[t]);for(const i of t){const s=$b(i,e,r,n);s&&(yield s)}}function*$a(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ge(e.schema)&&Ge(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,f]of e.entries(t,a)){const h=$a(u,f,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:r.message});for(const d of h)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(u=d[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):Ge(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class he{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return sa(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return sa(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return Gh(e,this,r)}create(e,r){return Jh(e,this,r)}is(e){return Pa(e,this)}mask(e,r){return Qh(e,this,r)}validate(e,r={}){return Hr(e,this,r)}}function Gh(t,e,r){const n=Hr(t,e,{message:r});if(n[0])throw n[0]}function Jh(t,e,r){const n=Hr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Qh(t,e,r){const n=Hr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Pa(t,e){return!Hr(t,e)[0]}function Hr(t,e,r={}){const n=$a(t,e,r),i=Lb(n);return i[0]?[new qh(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Pb(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Da(n):In(n)}function Le(t,e){return new he({type:t,schema:null,validator:e})}function jb(t,e){return new he({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Db(t){return new he({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Fb(t){let e;return new he({type:"lazy",schema:null,*entries(r,n){e!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){return e!=null||(e=t()),e.validator(r,n)},coercer(r,n){return e!=null||(e=t()),e.coercer(r,n)},refiner(r,n){return e!=null||(e=t()),e.refiner(r,n)}})}function Bb(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Da(n);default:return In(n)}}function Vb(t){const e=t instanceof he?{...t.schema}:{...t};for(const r in e)e[r]=Zh(e[r]);return In(e)}function Hb(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return In(n)}function Wb(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Le(t,e)}function zb(){return Le("any",()=>!0)}function Ub(t){return new he({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pe(e)}`}})}function qb(){return Le("bigint",t=>typeof t=="bigint")}function Gb(){return Le("boolean",t=>typeof t=="boolean")}function Jb(){return Le("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${pe(t)}`)}function Qb(t){const e={},r=t.map(n=>pe(n)).join();for(const n of t)e[n]=n;return new he({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${pe(n)}`}})}function Zb(){return Le("func",t=>typeof t=="function"||`Expected a function, but received: ${pe(t)}`)}function Yb(t){return Le("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${pe(e)}`)}function Kb(){return Le("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${pe(t)}`)}function Xb(t){return new he({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function em(t){const e=pe(t),r=typeof t;return new he({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${pe(n)}`}})}function tm(t,e){return new he({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${pe(r)}`}})}function ja(){return Le("never",()=>!1)}function rm(t){return new he({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function nm(){return Le("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${pe(t)}`)}function In(t){const e=t?Object.keys(t):[],r=ja();return new he({type:"object",schema:t||null,*entries(n){if(t&&Ge(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ge(n)||`Expected an object, but received: ${pe(n)}`},coercer(n){return Ge(n)?{...n}:n}})}function Zh(t){return new he({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function im(t,e){return new he({type:"record",schema:null,*entries(r){if(Ge(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ge(r)||`Expected an object, but received: ${pe(r)}`}})}function sm(){return Le("regexp",t=>t instanceof RegExp)}function om(t){return new he({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${pe(e)}`}})}function Yh(){return Le("string",t=>typeof t=="string"||`Expected a string, but received: ${pe(t)}`)}function am(t){const e=ja();return new he({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${pe(r)}`}})}function Da(t){const e=Object.keys(t);return new he({type:"type",schema:t,*entries(r){if(Ge(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ge(r)||`Expected an object, but received: ${pe(r)}`},coercer(r){return Ge(r)?{...r}:r}})}function cm(t){const e=t.map(r=>r.type).join(" | ");return new he({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=$a(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pe(r)}`,...i]}})}function Kh(){return Le("unknown",()=>!0)}function Fa(t,e,r){return new he({...t,coercer:(n,i)=>Pa(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function um(t,e,r={}){return Fa(t,Kh(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&$u(n)&&$u(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function lm(t){return Fa(t,Yh(),e=>e.trim())}function hm(t){return cr(t,"empty",e=>{const r=Xh(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Xh(t){return t instanceof Map||t instanceof Set?t.size:t.length}function fm(t,e,r={}){const{exclusive:n}=r;return cr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function dm(t,e,r={}){const{exclusive:n}=r;return cr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function pm(t){return cr(t,"nonempty",e=>Xh(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function gm(t,e){return cr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function bm(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return cr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function cr(t,e,r){return new he({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=sa(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const mm=Object.freeze(Object.defineProperty({__proto__:null,Struct:he,StructError:qh,any:zb,array:Ub,assert:Gh,assign:Pb,bigint:qb,boolean:Gb,coerce:Fa,create:Jh,date:Jb,defaulted:um,define:Le,deprecated:jb,dynamic:Db,empty:hm,enums:Qb,func:Zb,instance:Yb,integer:Kb,intersection:Xb,is:Pa,lazy:Fb,literal:em,map:tm,mask:Qh,max:fm,min:dm,never:ja,nonempty:pm,nullable:rm,number:nm,object:In,omit:Bb,optional:Zh,partial:Vb,pattern:gm,pick:Hb,record:im,refine:cr,regexp:sm,set:om,size:bm,string:Yh,struct:Wb,trimmed:lm,tuple:am,type:Da,union:cm,unknown:Kh,validate:Hr},Symbol.toStringTag,{value:"Module"})),ur=Vt(mm);Object.defineProperty(we,"__esModule",{value:!0});we.assertExhaustive=we.assertStruct=we.assert=we.AssertionError=void 0;const vm=ur;function ym(t){return typeof t=="object"&&t!==null&&"message"in t}function _m(t){var e,r;return Boolean(typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function wm(t){const e=ym(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function ef(t,e){return _m(t)?new t({message:e}):t({message:e})}class Ba extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}we.AssertionError=Ba;function Sm(t,e="Assertion failed.",r=Ba){if(!t)throw e instanceof Error?e:ef(r,e)}we.assert=Sm;function Em(t,e,r="Assertion failed",n=Ba){try{(0,vm.assert)(t,e)}catch(i){throw ef(n,`${r}: ${wm(i)}.`)}}we.assertStruct=Em;function Cm(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}we.assertExhaustive=Cm;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.base64=void 0;const Im=ur,Rm=we,km=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Rm.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Im.pattern)(t,a)};Rn.base64=km;var Q={},kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=ur,r=we;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(kn);Object.defineProperty(Q,"__esModule",{value:!0});Q.createDataView=Q.concatBytes=Q.valueToBytes=Q.stringToBytes=Q.numberToBytes=Q.signedBigIntToBytes=Q.bigIntToBytes=Q.hexToBytes=Q.bytesToString=Q.bytesToNumber=Q.bytesToSignedBigInt=Q.bytesToBigInt=Q.bytesToHex=Q.assertIsBytes=Q.isBytes=void 0;const Pe=we,oa=kn,Pu=48,ju=58,Du=87;function xm(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Mm=xm();function Va(t){return t instanceof Uint8Array}Q.isBytes=Va;function Wr(t){(0,Pe.assert)(Va(t),"Value must be a Uint8Array.")}Q.assertIsBytes=Wr;function tf(t){if(Wr(t),t.length===0)return"0x";const e=Mm(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,oa.add0x)(r.join(""))}Q.bytesToHex=tf;function rf(t){Wr(t);const e=tf(t);return BigInt(e)}Q.bytesToBigInt=rf;function Am(t){Wr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}Q.bytesToSignedBigInt=Am;function Nm(t){Wr(t);const e=rf(t);return(0,Pe.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Q.bytesToNumber=Nm;function Tm(t){return Wr(t),new TextDecoder().decode(t)}Q.bytesToString=Tm;function Li(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,oa.assertIsHexString)(t);const r=(0,oa.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<ju?Pu:Du),l=a-(a<ju?Pu:Du);i[s]=c*16+l}return i}Q.hexToBytes=Li;function nf(t){(0,Pe.assert)(typeof t=="bigint","Value must be a bigint."),(0,Pe.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Li(e)}Q.bigIntToBytes=nf;function Om(t,e){(0,Pe.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function Lm(t,e){(0,Pe.assert)(typeof t=="bigint","Value must be a bigint."),(0,Pe.assert)(typeof e=="number","Byte length must be a number."),(0,Pe.assert)(e>0,"Byte length must be greater than 0."),(0,Pe.assert)(Om(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Q.signedBigIntToBytes=Lm;function sf(t){(0,Pe.assert)(typeof t=="number","Value must be a number."),(0,Pe.assert)(t>=0,"Value must be a non-negative number."),(0,Pe.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Li(e)}Q.numberToBytes=sf;function of(t){return(0,Pe.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Q.stringToBytes=of;function af(t){if(typeof t=="bigint")return nf(t);if(typeof t=="number")return sf(t);if(typeof t=="string")return t.startsWith("0x")?Li(t):of(t);if(Va(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Q.valueToBytes=af;function $m(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=af(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}Q.concatBytes=$m;function Pm(t){if(typeof B.Buffer<"u"&&t instanceof B.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Q.createDataView=Pm;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.ChecksumStruct=void 0;const Fu=ur,jm=Rn;$i.ChecksumStruct=(0,Fu.size)((0,jm.base64)((0,Fu.string)(),{paddingRequired:!0}),44,44);var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.createHex=ht.createBytes=ht.createBigInt=ht.createNumber=void 0;const oe=ur,Dm=we,cf=Q,Pi=kn,uf=(0,oe.union)([(0,oe.number)(),(0,oe.bigint)(),(0,oe.string)(),Pi.StrictHexStruct]),Fm=(0,oe.coerce)((0,oe.number)(),uf,Number),Bm=(0,oe.coerce)((0,oe.bigint)(),uf,BigInt);(0,oe.union)([Pi.StrictHexStruct,(0,oe.instance)(Uint8Array)]);const Vm=(0,oe.coerce)((0,oe.instance)(Uint8Array),(0,oe.union)([Pi.StrictHexStruct]),cf.hexToBytes),Hm=(0,oe.coerce)(Pi.StrictHexStruct,(0,oe.instance)(Uint8Array),cf.bytesToHex);function Wm(t){try{const e=(0,oe.create)(t,Fm);return(0,Dm.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof oe.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ht.createNumber=Wm;function zm(t){try{return(0,oe.create)(t,Bm)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ht.createBigInt=zm;function Um(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,oe.create)(t,Vm)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ht.createBytes=Um;function qm(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,oe.create)(t,Hm)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ht.createHex=qm;var Mr={},lf=N&&N.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Me=N&&N.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Qe,st;Object.defineProperty(Mr,"__esModule",{value:!0});Mr.FrozenSet=Mr.FrozenMap=void 0;class Ha{constructor(e){Qe.set(this,void 0),lf(this,Qe,new Map(e),"f"),Object.freeze(this)}get size(){return Me(this,Qe,"f").size}[(Qe=new WeakMap,Symbol.iterator)](){return Me(this,Qe,"f")[Symbol.iterator]()}entries(){return Me(this,Qe,"f").entries()}forEach(e,r){return Me(this,Qe,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Me(this,Qe,"f").get(e)}has(e){return Me(this,Qe,"f").has(e)}keys(){return Me(this,Qe,"f").keys()}values(){return Me(this,Qe,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Mr.FrozenMap=Ha;class Wa{constructor(e){st.set(this,void 0),lf(this,st,new Set(e),"f"),Object.freeze(this)}get size(){return Me(this,st,"f").size}[(st=new WeakMap,Symbol.iterator)](){return Me(this,st,"f")[Symbol.iterator]()}entries(){return Me(this,st,"f").entries()}forEach(e,r){return Me(this,st,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Me(this,st,"f").has(e)}keys(){return Me(this,st,"f").keys()}values(){return Me(this,st,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Mr.FrozenSet=Wa;Object.freeze(Ha);Object.freeze(Ha.prototype);Object.freeze(Wa);Object.freeze(Wa.prototype);var hf={},za={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return Boolean(l)&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,u)=>Object.hasOwnProperty.call(l,u);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let u=l;for(;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(l)===u}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var u;return l.split("").reduce((h,d)=>o(d)?h+1:h+2,0)+((u=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&u!==void 0?u:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(za);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=ur,r=we,n=za;t.JsonStruct=(0,e.define)("Json",E=>{const[A]=I(E,!0);return A?!0:"Expected a valid JSON-serializable value"});function i(E){return(0,e.is)(E,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(E){return(0,e.is)(E,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(E,A){(0,r.assertStruct)(E,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",A)}t.assertIsJsonRpcNotification=o;function a(E){return(0,e.is)(E,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(E,A){(0,r.assertStruct)(E,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",A)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(E){return(0,e.is)(E,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function u(E,A){(0,r.assertStruct)(E,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",A)}t.assertIsPendingJsonRpcResponse=u;function f(E){return(0,e.is)(E,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function h(E,A){(0,r.assertStruct)(E,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",A)}t.assertIsJsonRpcResponse=h;function d(E){return(0,e.is)(E,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function p(E,A){(0,r.assertStruct)(E,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",A)}t.assertIsJsonRpcSuccess=p;function _(E){return(0,e.is)(E,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=_;function v(E,A){(0,r.assertStruct)(E,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",A)}t.assertIsJsonRpcFailure=v;function g(E){return(0,e.is)(E,t.JsonRpcErrorStruct)}t.isJsonRpcError=g;function m(E,A){(0,r.assertStruct)(E,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",A)}t.assertIsJsonRpcError=m;function w(E){const{permitEmptyString:A,permitFractions:H,permitNull:z}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},E);return q=>Boolean(typeof q=="number"&&(H||Number.isInteger(q))||typeof q=="string"&&(A||q.length>0)||z&&q===null)}t.getJsonRpcIdValidator=w;function I(E,A=!1){const H=new Set;function z(L,q){if(L===void 0)return[!1,0];if(L===null)return[!0,q?0:n.JsonSize.Null];const ne=typeof L;try{if(ne==="function")return[!1,0];if(ne==="string"||L instanceof String)return[!0,q?0:(0,n.calculateStringSize)(L)+n.JsonSize.Quote*2];if(ne==="boolean"||L instanceof Boolean)return q?[!0,0]:[!0,L==!0?n.JsonSize.True:n.JsonSize.False];if(ne==="number"||L instanceof Number)return q?[!0,0]:[!0,(0,n.calculateNumberSize)(L)];if(L instanceof Date)return q?[!0,0]:[!0,isNaN(L.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(L)&&!Array.isArray(L))return[!1,0];if(H.has(L))return[!1,0];H.add(L);try{return[!0,Object.entries(L).reduce((U,[S,y],k,C)=>{let[T,R]=z(y,q);if(!T)throw new Error("JSON validation did not pass. Validation process stopped.");if(H.delete(L),q)return 0;const $=Array.isArray(L)?0:S.length+n.JsonSize.Comma+n.JsonSize.Colon*2,J=k<C.length-1?n.JsonSize.Comma:0;return U+$+R+J},q?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return z(E,A)}t.validateJsonAndGetSize=I})(hf);var Ar={},Gm=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createModuleLogger=Ar.createProjectLogger=void 0;const Jm=Gm(Zo.exports),Qm=(0,Jm.default)("metamask");function Zm(t){return Qm.extend(t)}Ar.createProjectLogger=Zm;function Ym(t,e){return t.extend(e)}Ar.createModuleLogger=Ym;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.hexToBigInt=ft.hexToNumber=ft.bigIntToHex=ft.numberToHex=void 0;const Er=we,pn=kn,Km=t=>((0,Er.assert)(typeof t=="number","Value must be a number."),(0,Er.assert)(t>=0,"Value must be a non-negative number."),(0,Er.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,pn.add0x)(t.toString(16)));ft.numberToHex=Km;const Xm=t=>((0,Er.assert)(typeof t=="bigint","Value must be a bigint."),(0,Er.assert)(t>=0,"Value must be a non-negative bigint."),(0,pn.add0x)(t.toString(16)));ft.bigIntToHex=Xm;const ev=t=>{(0,pn.assertIsHexString)(t);const e=parseInt(t,16);return(0,Er.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};ft.hexToNumber=ev;const tv=t=>((0,pn.assertIsHexString)(t),BigInt((0,pn.add0x)(t)));ft.hexToBigInt=tv;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});var df={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(df);var pf={};const Bu=Te,rv=(t,e,r=!1)=>{if(t instanceof Bu)return t;try{return new Bu(t,e)}catch(n){if(!r)return null;throw n}};var zr=rv;const nv=zr,iv=(t,e)=>{const r=nv(t,e);return r?r.version:null};var sv=iv;const ov=zr,av=(t,e)=>{const r=ov(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var cv=av;const Vu=Te,uv=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Vu(t instanceof Vu?t.version:t,r).inc(e,n,i).version}catch{return null}};var lv=uv;const Hu=zr,hv=(t,e)=>{const r=Hu(t,null,!0),n=Hu(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var fv=hv;const dv=Te,pv=(t,e)=>new dv(t,e).major;var gv=pv;const bv=Te,mv=(t,e)=>new bv(t,e).minor;var vv=mv;const yv=Te,_v=(t,e)=>new yv(t,e).patch;var wv=_v;const Sv=zr,Ev=(t,e)=>{const r=Sv(t,e);return r&&r.prerelease.length?r.prerelease:null};var Cv=Ev;const Iv=rt,Rv=(t,e,r)=>Iv(e,t,r);var kv=Rv;const xv=rt,Mv=(t,e)=>xv(t,e,!0);var Av=Mv;const Wu=Te,Nv=(t,e,r)=>{const n=new Wu(t,r),i=new Wu(e,r);return n.compare(i)||n.compareBuild(i)};var Ua=Nv;const Tv=Ua,Ov=(t,e)=>t.sort((r,n)=>Tv(r,n,e));var Lv=Ov;const $v=Ua,Pv=(t,e)=>t.sort((r,n)=>$v(n,r,e));var jv=Pv;const Dv=Te,Fv=zr,{safeRe:Gn,t:Jn}=tr.exports,Bv=(t,e)=>{if(t instanceof Dv)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Gn[Jn.COERCE]);else{let n;for(;(n=Gn[Jn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Gn[Jn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Gn[Jn.COERCERTL].lastIndex=-1}return r===null?null:Fv(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Vv=Bv;const Hv=nt(),Wv=(t,e)=>new Hv(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var zv=Wv;const Uv=Te,qv=nt(),Gv=(t,e,r)=>{let n=null,i=null,s=null;try{s=new qv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Uv(n,r))}),n};var Jv=Gv;const Qv=Te,Zv=nt(),Yv=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Zv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Qv(n,r))}),n};var Kv=Yv;const No=Te,Xv=nt(),zu=Ei,ey=(t,e)=>{t=new Xv(t,e);let r=new No("0.0.0");if(t.test(r)||(r=new No("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new No(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||zu(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||zu(r,s))&&(r=s)}return r&&t.test(r)?r:null};var ty=ey;const ry=nt(),ny=(t,e)=>{try{return new ry(t,e).range||"*"}catch{return null}};var iy=ny;const sy=Te,gf=Ci(),{ANY:oy}=gf,ay=nt(),cy=Ii,Uu=Ei,qu=wa,uy=Sa,ly=_a,hy=(t,e,r,n)=>{t=new sy(t,n),e=new ay(e,n);let i,s,o,a,c;switch(r){case">":i=Uu,s=uy,o=qu,a=">",c=">=";break;case"<":i=qu,s=ly,o=Uu,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cy(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let f=null,h=null;if(u.forEach(d=>{d.semver===oy&&(d=new gf(">=0.0.0")),f=f||d,h=h||d,i(d.semver,f.semver,n)?f=d:o(d.semver,h.semver,n)&&(h=d)}),f.operator===a||f.operator===c||(!h.operator||h.operator===a)&&s(t,h.semver))return!1;if(h.operator===c&&o(t,h.semver))return!1}return!0};var qa=hy;const fy=qa,dy=(t,e,r)=>fy(t,e,">",r);var py=dy;const gy=qa,by=(t,e,r)=>gy(t,e,"<",r);var my=by;const Gu=nt(),vy=(t,e,r)=>(t=new Gu(t,r),e=new Gu(e,r),t.intersects(e,r));var yy=vy;const _y=Ii,wy=rt;var Sy=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((u,f)=>wy(u,f,r));for(const u of o)_y(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[u,f]of n)u===f?a.push(u):!f&&u===o[0]?a.push("*"):f?u===o[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const Ju=nt(),Ga=Ci(),{ANY:To}=Ga,Kr=Ii,Ja=rt,Ey=(t,e,r={})=>{if(t===e)return!0;t=new Ju(t,r),e=new Ju(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=Iy(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Cy=[new Ga(">=0.0.0-0")],Qu=[new Ga(">=0.0.0")],Iy=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===To){if(e.length===1&&e[0].semver===To)return!0;r.includePrerelease?t=Cy:t=Qu}if(e.length===1&&e[0].semver===To){if(r.includePrerelease)return!0;e=Qu}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Zu(i,d,r):d.operator==="<"||d.operator==="<="?s=Yu(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ja(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Kr(d,String(i),r)||s&&!Kr(d,String(s),r))return null;for(const p of e)if(!Kr(d,String(p),r))return!1;return!0}let a,c,l,u,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of e){if(u=u||d.operator===">"||d.operator===">=",l=l||d.operator==="<"||d.operator==="<=",i){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator===">"||d.operator===">="){if(a=Zu(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Kr(i.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(c=Yu(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Kr(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&u&&!i&&o!==0||h||f)},Zu=(t,e,r)=>{if(!t)return e;const n=Ja(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Yu=(t,e,r)=>{if(!t)return e;const n=Ja(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Ry=Ey;const Oo=tr.exports,Ku=wi,ky=Te,Xu=Kl,xy=zr,My=sv,Ay=cv,Ny=lv,Ty=fv,Oy=gv,Ly=vv,$y=wv,Py=Cv,jy=rt,Dy=kv,Fy=Av,By=Ua,Vy=Lv,Hy=jv,Wy=Ei,zy=wa,Uy=Xl,qy=eh,Gy=_a,Jy=Sa,Qy=th,Zy=Vv,Yy=Ci(),Ky=nt(),Xy=Ii,e1=zv,t1=Jv,r1=Kv,n1=ty,i1=iy,s1=qa,o1=py,a1=my,c1=yy,u1=Sy,l1=Ry;var h1={parse:xy,valid:My,clean:Ay,inc:Ny,diff:Ty,major:Oy,minor:Ly,patch:$y,prerelease:Py,compare:jy,rcompare:Dy,compareLoose:Fy,compareBuild:By,sort:Vy,rsort:Hy,gt:Wy,lt:zy,eq:Uy,neq:qy,gte:Gy,lte:Jy,cmp:Qy,coerce:Zy,Comparator:Yy,Range:Ky,satisfies:Xy,toComparators:e1,maxSatisfying:t1,minSatisfying:r1,minVersion:n1,validRange:i1,outside:s1,gtr:o1,ltr:a1,intersects:c1,simplifyRange:u1,subset:l1,SemVer:ky,re:Oo.re,src:Oo.src,tokens:Oo.t,SEMVER_SPEC_VERSION:Ku.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ku.RELEASE_TYPES,compareIdentifiers:Xu.compareIdentifiers,rcompareIdentifiers:Xu.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=h1,r=ur,n=we;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,r.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,r.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,n.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,n.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,h){return(0,e.gt)(f,h)}t.gtVersion=c;function l(f,h){return(0,e.gtr)(f,h)}t.gtRange=l;function u(f,h){return(0,e.satisfies)(f,h,{includePrerelease:!0})}t.satisfiesVersionRange=u})(pf);(function(t){var e=N&&N.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=N&&N.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(we,t),r(Rn,t),r(Q,t),r($i,t),r(ht,t),r(Mr,t),r(kn,t),r(hf,t),r(Ar,t),r(za,t),r(ft,t),r(ff,t),r(df,t),r(pf,t)})(Uh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Uh;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(zh);var bf=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.PollingBlockTracker=void 0;const f1=bf(La),d1=bf(kb),p1=Cn,el=zh,tl=(0,el.createModuleLogger)(el.projectLogger,"polling-block-tracker"),g1=(0,f1.default)(),b1=1e3;class m1 extends p1.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*b1,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=rl(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=rl(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:g1(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),tl("Making request",e);const r=await(0,d1.default)(n=>this._provider.sendAsync(e,n))();if(tl("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Oi.PollingBlockTracker=m1;function rl(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var ji={},v1=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});ji.SubscribeBlockTracker=void 0;const y1=v1(La),_1=Cn,w1=(0,y1.default)();class S1 extends _1.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:w1(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ji.SubscribeBlockTracker=S1;var mf={};Object.defineProperty(mf,"__esModule",{value:!0});(function(t){var e=N&&N.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=N&&N.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Oi,t),r(ji,t),r(mf,t)})(Wh);var Qa={},Di={},xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.getUniqueId=void 0;const vf=4294967295;let Lo=Math.floor(Math.random()*vf);function E1(){return Lo=(Lo+1)%vf,Lo}xn.getUniqueId=E1;Object.defineProperty(Di,"__esModule",{value:!0});Di.createIdRemapMiddleware=void 0;const C1=xn;function I1(){return(t,e,r,n)=>{const i=t.id,s=C1.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Di.createIdRemapMiddleware=I1;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.createAsyncMiddleware=void 0;function R1(t){return async(e,r,n,i)=>{let s;const o=new Promise(u=>{s=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(u){a?a(u):i(u)}}}Fi.createAsyncMiddleware=R1;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.createScaffoldMiddleware=void 0;function k1(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Bi.createScaffoldMiddleware=k1;var Mn={},yf={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.EthereumProviderError=Pt.EthereumRpcError=void 0;const x1=oh;class _f extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return x1.default(this.serialize(),N1,2)}}Pt.EthereumRpcError=_f;class M1 extends _f{constructor(e,r,n){if(!A1(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Pt.EthereumProviderError=M1;function A1(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function N1(t,e){if(e!=="[Circular]")return e}var Za={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.errorValues=jt.errorCodes=void 0;jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=jt,r=Pt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(h,d=i){if(Number.isInteger(h)){const p=h.toString();if(f(e.errorValues,p))return e.errorValues[p].message;if(l(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(h){if(!Number.isInteger(h))return!1;const d=h.toString();return!!(e.errorValues[d]||l(h))}t.isValidCode=a;function c(h,{fallbackError:d=s,shouldIncludeStack:p=!1}={}){var _,v;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(h instanceof r.EthereumRpcError)return h.serialize();const g={};if(h&&typeof h=="object"&&!Array.isArray(h)&&f(h,"code")&&a(h.code)){const w=h;g.code=w.code,w.message&&typeof w.message=="string"?(g.message=w.message,f(w,"data")&&(g.data=w.data)):(g.message=o(g.code),g.data={originalError:u(h)})}else{g.code=d.code;const w=(_=h)===null||_===void 0?void 0:_.message;g.message=w&&typeof w=="string"?w:d.message,g.data={originalError:u(h)}}const m=(v=h)===null||v===void 0?void 0:v.stack;return p&&h&&m&&typeof m=="string"&&(g.stack=m),g}t.serializeError=c;function l(h){return h>=-32099&&h<=-32e3}function u(h){return h&&typeof h=="object"&&!Array.isArray(h)?Object.assign({},h):h}function f(h,d){return Object.prototype.hasOwnProperty.call(h,d)}})(Za);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ethErrors=void 0;const Ya=Pt,wf=Za,Ce=jt;Vi.ethErrors={rpc:{parse:t=>Be(Ce.errorCodes.rpc.parse,t),invalidRequest:t=>Be(Ce.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Be(Ce.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Be(Ce.errorCodes.rpc.methodNotFound,t),internal:t=>Be(Ce.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Be(e,t)},invalidInput:t=>Be(Ce.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Be(Ce.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Be(Ce.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Be(Ce.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Be(Ce.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Be(Ce.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Xr(Ce.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Xr(Ce.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Xr(Ce.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Xr(Ce.errorCodes.provider.disconnected,t),chainDisconnected:t=>Xr(Ce.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ya.EthereumProviderError(e,r,n)}}};function Be(t,e){const[r,n]=Sf(e);return new Ya.EthereumRpcError(t,r||wf.getMessageFromCode(t),n)}function Xr(t,e){const[r,n]=Sf(e);return new Ya.EthereumProviderError(t,r||wf.getMessageFromCode(t),n)}function Sf(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Pt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Za;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Vi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=jt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(yf);var T1=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.JsonRpcEngine=void 0;const O1=T1(or),Ve=yf;class mt extends O1.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await mt._runAllMiddleware(e,r,this._middleware);return o?(await mt._runReturnHandlers(a),i(s)):n(async c=>{try{await mt._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Ve.EthereumRpcError(Ve.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Ve.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await mt._runAllMiddleware(e,r,this._middleware);if(mt._checkForCompletion(e,r,i),await mt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await mt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=Ve.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${$o(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${$o(e)}`,{request:e});if(!n)throw new Ve.EthereumRpcError(Ve.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${$o(e)}`,{request:e})}}Mn.JsonRpcEngine=mt;function $o(t){return JSON.stringify(t,null,2)}var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});Hi.mergeMiddleware=void 0;const L1=Mn;function $1(t){const e=new L1.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Hi.mergeMiddleware=$1;(function(t){var e=N&&N.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=N&&N.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Di,t),r(Fi,t),r(Bi,t),r(xn,t),r(Mn,t),r(Hi,t)})(Qa);var Ef={},Ka={};const Xa=Vt(tp);var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});var nl=Xa,P1=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return nl.__awaiter(this,void 0,void 0,function(){var r,n,i;return nl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Wi.default=P1;Object.defineProperty(Ka,"__esModule",{value:!0});var il=Xa,j1=Wi,D1=function(){function t(){this._semaphore=new j1.default(1)}return t.prototype.acquire=function(){return il.__awaiter(this,void 0,void 0,function(){var e,r;return il.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ka.default=D1;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.withTimeout=void 0;var Qn=Xa;function F1(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Qn.__awaiter(n,void 0,void 0,function(){var o,a,c;return Qn.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Qn.__awaiter(this,void 0,void 0,function(){var s,o;return Qn.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}zi.withTimeout=F1;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ka;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Wi;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=zi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Ef);var B1=H1,V1=Object.prototype.hasOwnProperty;function H1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)V1.call(r,n)&&(t[n]=r[n])}return t}const W1=B1,z1=La();var U1=P;function P(t){const e=this;e.currentProvider=t}P.prototype.getBalance=An(2,"eth_getBalance");P.prototype.getCode=An(2,"eth_getCode");P.prototype.getTransactionCount=An(2,"eth_getTransactionCount");P.prototype.getStorageAt=An(3,"eth_getStorageAt");P.prototype.call=An(2,"eth_call");P.prototype.protocolVersion=W("eth_protocolVersion");P.prototype.syncing=W("eth_syncing");P.prototype.coinbase=W("eth_coinbase");P.prototype.mining=W("eth_mining");P.prototype.hashrate=W("eth_hashrate");P.prototype.gasPrice=W("eth_gasPrice");P.prototype.accounts=W("eth_accounts");P.prototype.blockNumber=W("eth_blockNumber");P.prototype.getBlockTransactionCountByHash=W("eth_getBlockTransactionCountByHash");P.prototype.getBlockTransactionCountByNumber=W("eth_getBlockTransactionCountByNumber");P.prototype.getUncleCountByBlockHash=W("eth_getUncleCountByBlockHash");P.prototype.getUncleCountByBlockNumber=W("eth_getUncleCountByBlockNumber");P.prototype.sign=W("eth_sign");P.prototype.sendTransaction=W("eth_sendTransaction");P.prototype.sendRawTransaction=W("eth_sendRawTransaction");P.prototype.estimateGas=W("eth_estimateGas");P.prototype.getBlockByHash=W("eth_getBlockByHash");P.prototype.getBlockByNumber=W("eth_getBlockByNumber");P.prototype.getTransactionByHash=W("eth_getTransactionByHash");P.prototype.getTransactionByBlockHashAndIndex=W("eth_getTransactionByBlockHashAndIndex");P.prototype.getTransactionByBlockNumberAndIndex=W("eth_getTransactionByBlockNumberAndIndex");P.prototype.getTransactionReceipt=W("eth_getTransactionReceipt");P.prototype.getUncleByBlockHashAndIndex=W("eth_getUncleByBlockHashAndIndex");P.prototype.getUncleByBlockNumberAndIndex=W("eth_getUncleByBlockNumberAndIndex");P.prototype.getCompilers=W("eth_getCompilers");P.prototype.compileLLL=W("eth_compileLLL");P.prototype.compileSolidity=W("eth_compileSolidity");P.prototype.compileSerpent=W("eth_compileSerpent");P.prototype.newFilter=W("eth_newFilter");P.prototype.newBlockFilter=W("eth_newBlockFilter");P.prototype.newPendingTransactionFilter=W("eth_newPendingTransactionFilter");P.prototype.uninstallFilter=W("eth_uninstallFilter");P.prototype.getFilterChanges=W("eth_getFilterChanges");P.prototype.getFilterLogs=W("eth_getFilterLogs");P.prototype.getLogs=W("eth_getLogs");P.prototype.getWork=W("eth_getWork");P.prototype.submitWork=W("eth_submitWork");P.prototype.submitHashrate=W("eth_submitHashrate");P.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(q1(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function W(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function An(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function q1(t){return W1({id:z1(),jsonrpc:"2.0",params:[]},t)}const sl=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,u)=>{l?a(l):o(u)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},ol=new WeakMap;var G1=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=ol.get(o);if(c||(c={},ol.set(o,c)),a in c)return c[a];const l=p=>typeof p=="string"||typeof a=="symbol"?a===p:p.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),f=u===void 0||u.writable||u.configurable,d=(e.include?e.include.some(l):!e.exclude.some(l))&&f;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const u=e.excludeMain?o:sl(o,e,s,o);return i.set(o,u),Reflect.apply(u,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const u=sl(c,e,s,o);return i.set(c,u),u}return c}});return s};const J1=or.default;class Q1 extends J1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var ec=Q1;const Z1=ec;class Y1 extends Z1{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var K1=Y1,Nn={minBlockRef:X1,maxBlockRef:e_,sortBlockRefs:tc,bnToHex:t_,blockRefIsNumber:r_,hexToInt:hi,incrementHexInt:n_,intToHex:Cf,unsafeRandomBytes:i_};function X1(...t){return tc(t)[0]}function e_(...t){const e=tc(t);return e[e.length-1]}function tc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:hi(e)-hi(r))}function t_(t){return"0x"+t.toString(16)}function r_(t){return t&&!["earliest","latest","pending"].includes(t)}function hi(t){return t==null?t:Number.parseInt(t,16)}function n_(t){if(t==null)return t;const e=hi(t);return Cf(e+1)}function Cf(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function i_(t){let e="0x";for(let r=0;r<t;r++)e+=al(),e+=al();return e}function al(){return Math.floor(Math.random()*16).toString(16)}const s_=U1,o_=G1,a_=K1,{bnToHex:jC,hexToInt:Zn,incrementHexInt:c_,minBlockRef:u_,blockRefIsNumber:l_}=Nn;class h_ extends a_{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new s_(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=u_(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=c_(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await o_(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Zn(this.params.fromBlock)>=Zn(e.blockNumber)||l_(this.params.toBlock)&&Zn(this.params.toBlock)<=Zn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}}var f_=h_,rc=d_;async function d_({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=cl(e),s=cl(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(p_);return await Promise.all(o.map(c=>b_(t,"eth_getBlockByNumber",[c,!1])))}function cl(t){return t==null?t:Number.parseInt(t,16)}function p_(t){return t==null?t:"0x"+t.toString(16)}function g_(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function b_(t,e,r){for(let n=0;n<3;n++)try{return await g_(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const m_=ec,v_=rc,{incrementHexInt:y_}=Nn;class __ extends m_{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=y_(e),o=(await v_({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var w_=__;const S_=ec,E_=rc,{incrementHexInt:C_}=Nn;class I_ extends S_{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=C_(e),i=await E_({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var R_=I_;const k_=Ef.Mutex,{createAsyncMiddleware:x_,createScaffoldMiddleware:M_}=Qa,A_=f_,N_=w_,T_=R_,{intToHex:If,hexToInt:Po}=Nn;var O_=L_;function L_({blockTracker:t,provider:e}){let r=0,n={};const i=new k_,s=$_({mutex:i}),o=M_({eth_newFilter:s(jo(c)),eth_newBlockFilter:s(jo(l)),eth_newPendingTransactionFilter:s(jo(u)),eth_uninstallFilter:s(ri(d)),eth_getFilterChanges:s(ri(f)),eth_getFilterLogs:s(ri(h))}),a=async({oldBlock:m,newBlock:w})=>{if(n.length===0)return;const I=await i.acquire();try{await Promise.all(pr(n).map(async E=>{try{await E.update({oldBlock:m,newBlock:w})}catch(A){console.error(A)}}))}catch(E){console.error(E)}I()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=d,o.getFilterChanges=f,o.getFilterLogs=h,o.destroy=()=>{v()},o;async function c(m){const w=new A_({provider:e,params:m});return await p(w),w}async function l(){const m=new N_({provider:e});return await p(m),m}async function u(){const m=new T_({provider:e});return await p(m),m}async function f(m){const w=Po(m),I=n[w];if(!I)throw new Error(`No filter for index "${w}"`);return I.getChangesAndClear()}async function h(m){const w=Po(m),I=n[w];if(!I)throw new Error(`No filter for index "${w}"`);let E=[];return I.type==="log"&&(E=I.getAllResults()),E}async function d(m){const w=Po(m),I=n[w],E=Boolean(I);return E&&await _(w),E}async function p(m){const w=pr(n).length,I=await t.getLatestBlock();await m.initialize({currentBlock:I}),r++,n[r]=m,m.id=r,m.idHex=If(r);const E=pr(n).length;return g({prevFilterCount:w,newFilterCount:E}),r}async function _(m){const w=pr(n).length;delete n[m];const I=pr(n).length;g({prevFilterCount:w,newFilterCount:I})}async function v(){const m=pr(n).length;n={},g({prevFilterCount:m,newFilterCount:0})}function g({prevFilterCount:m,newFilterCount:w}){if(m===0&&w>0){t.on("sync",a);return}if(m>0&&w===0){t.removeListener("sync",a);return}}}function jo(t){return ri(async(...e)=>{const r=await t(...e);return If(r.id)})}function ri(t){return x_(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function $_({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function pr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const P_=or.default,{createAsyncMiddleware:ul,createScaffoldMiddleware:j_}=Qa,D_=O_,{unsafeRandomBytes:F_,incrementHexInt:B_}=Nn,V_=rc;var H_=W_;function W_({blockTracker:t,provider:e}){const r={},n=D_({blockTracker:t,provider:e});let i=!1;const s=new P_,o=j_({eth_subscribe:ul(a),eth_unsubscribe:ul(c)});return o.destroy=u,{events:s,middleware:o};async function a(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],p=F_(16);let _;switch(d){case"newHeads":_=v({subId:p});break;case"logs":const m=f.params[1],w=await n.newLogFilter(m);_=g({subId:p,filter:w});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[p]=_,h.result=p;return;function v({subId:m}){const w={type:d,destroy:async()=>{t.removeListener("sync",w.update)},update:async({oldBlock:I,newBlock:E})=>{const A=E,H=B_(I);(await V_({provider:e,fromBlock:H,toBlock:A})).map(z_).filter(q=>q!==null).forEach(q=>{l(m,q)})}};return t.on("sync",w.update),w}function g({subId:m,filter:w}){return w.on("update",E=>l(m,E)),{type:d,destroy:async()=>await n.uninstallFilter(w.idHex)}}}async function c(f,h){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=f.params[0],p=r[d];if(!p){h.result=!1;return}delete r[d],await p.destroy(),h.result=!0}function l(f,h){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:h}})}function u(){s.removeAllListeners();for(const f in r)r[f].destroy(),delete r[f];i=!0}}function z_(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ti,"__esModule",{value:!0});Ti.SubscriptionManager=void 0;const U_=Wh,q_=H_,ll=()=>{};class G_{constructor(e){const r=new U_.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=q_({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,ll,ll),r}destroy(){this.subscriptionMiddleware.destroy()}}Ti.SubscriptionManager=G_;var nc=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.CoinbaseWalletProvider=void 0;const J_=nc(or),Q_=nc(_i.exports),Do=Fr,K=yn,hl=Br,fl=tt,Fo=Mi,Z_=te,F=x,Bo=nc(Sb),Y_=xr,Y=Hh,K_=Ti,dl="DefaultChainId",pl="DefaultJsonRpcUrl";class X_ extends J_.default{constructor(e){var r,n;super(),this._filterPolyfill=new Y_.FilterPolyfill(this),this._subscriptionManager=new K_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,F.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(fl.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,F.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,F.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(pl))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(pl,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(dl,r.toString(10)),((0,F.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,F.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const f=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Z_.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===K.standardErrorCodes.provider.unsupportedChain?K.standardErrors.provider.unsupportedChain(e):K.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Do.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?hl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this.send(Y.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,K.serializeError)(i,e)})}catch(n){throw(0,K.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,K.serializeError)(n,e)})}catch(n){return Promise.reject((0,K.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,K.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,K.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw K.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw K.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw K.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,F.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,K.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Fo.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,K.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Fo.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,K.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Fo.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,F.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(fl.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Y.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Y.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Y.JSONRPCMethod.net_version:return this._net_version();case Y.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Y.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Y.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Y.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Y.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Y.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Y.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Y.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Y.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Y.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Y.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Y.JSONRPCMethod.eth_signTypedData_v4:case Y.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Y.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Y.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Y.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Y.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Y.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Y.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Y.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Y.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Y.JSONRPCMethod.eth_subscribe:case Y.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,F.ensureAddressString)(e);return this._addresses.map(i=>(0,F.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Do.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,F.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,F.ensureAddressString)(e.to):null,i=e.value!=null?(0,F.ensureBN)(e.value):new Q_.default(0),s=e.data?(0,F.ensureBuffer)(e.data):B.Buffer.alloc(0),o=e.nonce!=null?(0,F.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,F.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,F.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,F.ensureBN)(e.maxPriorityFeePerGas):null,u=e.gas!=null?(0,F.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw K.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw K.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,F.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(dl);if(!e)return(0,F.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,F.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Do.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?hl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,F.ensureAddressString)(e[0]),n=(0,F.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,F.ensureBuffer)(e[0]),n=(0,F.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,F.ensureBuffer)(e[0]),n=(0,F.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,F.ensureBuffer)(e[0]),n=(0,F.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,F.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,F.ensureParsedJSONObject)(e[0]),n=(0,F.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Bo.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,F.ensureAddressString)(e[0]),n=(0,F.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Bo.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,F.ensureAddressString)(e[0]),n=(0,F.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Bo.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw K.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw K.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw K.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw K.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw K.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw K.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,F.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,F.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,F.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Ir.CoinbaseWalletProvider=X_;var Ui={},qi={},Tn,j,Rf,kf,Zt,gl,xf,aa,Mf,fi={},Af=[],ew=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Gi=Array.isArray;function _t(t,e){for(var r in e)t[r]=e[r];return t}function Nf(t){var e=t.parentNode;e&&e.removeChild(t)}function ca(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Tn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return un(t,o,n,i,null)}function un(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Rf:i};return i==null&&j.vnode!=null&&j.vnode(s),s}function tw(){return{current:null}}function On(t){return t.children}function ln(t,e){this.props=t,this.context=e}function gn(t,e){if(e==null)return t.__?gn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?gn(t):null}function Tf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Tf(t)}}function ua(t){(!t.__d&&(t.__d=!0)&&Zt.push(t)&&!di.__r++||gl!==j.debounceRendering)&&((gl=j.debounceRendering)||xf)(di)}function di(){var t,e,r,n,i,s,o,a;for(Zt.sort(aa);t=Zt.shift();)t.__d&&(e=Zt.length,n=void 0,i=void 0,o=(s=(r=t).__v).__e,(a=r.__P)&&(n=[],(i=_t({},s)).__v=s.__v+1,ic(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o==null?gn(s):o,s.__h),Df(n,s),s.__e!=o&&Tf(s)),Zt.length>e&&Zt.sort(aa));di.__r=0}function Of(t,e,r,n,i,s,o,a,c,l){var u,f,h,d,p,_,v,g=n&&n.__k||Af,m=g.length;for(r.__k=[],u=0;u<e.length;u++)if((d=r.__k[u]=(d=e[u])==null||typeof d=="boolean"||typeof d=="function"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?un(null,d,null,null,d):Gi(d)?un(On,{children:d},null,null,null):d.__b>0?un(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(h=g[u])===null||h&&d.key==h.key&&d.type===h.type)g[u]=void 0;else for(f=0;f<m;f++){if((h=g[f])&&d.key==h.key&&d.type===h.type){g[f]=void 0;break}h=null}ic(t,d,h=h||fi,i,s,o,a,c,l),p=d.__e,(f=d.ref)&&h.ref!=f&&(v||(v=[]),h.ref&&v.push(h.ref,null,d),v.push(f,d.__c||p,d)),p!=null?(_==null&&(_=p),typeof d.type=="function"&&d.__k===h.__k?d.__d=c=Lf(d,c,t):c=Pf(t,d,h,g,p,c),typeof r.type=="function"&&(r.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=gn(h))}for(r.__e=_,u=m;u--;)g[u]!=null&&(typeof r.type=="function"&&g[u].__e!=null&&g[u].__e==r.__d&&(r.__d=jf(n).nextSibling),Bf(g[u],g[u]));if(v)for(u=0;u<v.length;u++)Ff(v[u],v[++u],v[++u])}function Lf(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Lf(n,e,r):Pf(r,n,n,i,n.__e,e));return e}function $f(t,e){return e=e||[],t==null||typeof t=="boolean"||(Gi(t)?t.some(function(r){$f(r,e)}):e.push(t)),e}function Pf(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function jf(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=jf(r)))return n}return null}function rw(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||pi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||pi(t,s,e[s],r[s],n)}function bl(t,e,r){e[0]==="-"?t.setProperty(e,r==null?"":r):t[e]=r==null?"":typeof r!="number"||ew.test(e)?r:r+"px"}function pi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||bl(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||bl(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?vl:ml,s):t.removeEventListener(e,s?vl:ml,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function ml(t){return this.l[t.type+!1](j.event?j.event(t):t)}function vl(t){return this.l[t.type+!0](j.event?j.event(t):t)}function ic(t,e,r,n,i,s,o,a,c){var l,u,f,h,d,p,_,v,g,m,w,I,E,A,H,z=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=j.__b)&&l(e);try{e:if(typeof z=="function"){if(v=e.props,g=(l=z.contextType)&&n[l.__c],m=l?g?g.props.value:l.__:n,r.__c?_=(u=e.__c=r.__c).__=u.__E:("prototype"in z&&z.prototype.render?e.__c=u=new z(v,m):(e.__c=u=new ln(v,m),u.constructor=z,u.render=iw),g&&g.sub(u),u.props=v,u.state||(u.state={}),u.context=m,u.__n=n,f=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),z.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=_t({},u.__s)),_t(u.__s,z.getDerivedStateFromProps(v,u.__s))),h=u.props,d=u.state,u.__v=e,f)z.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(z.getDerivedStateFromProps==null&&v!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,m),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,m)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(u.props=v,u.state=u.__s,u.__d=!1),u.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(L){L&&(L.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,m),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,d,p)})}if(u.context=m,u.props=v,u.__P=t,I=j.__r,E=0,"prototype"in z&&z.prototype.render){for(u.state=u.__s,u.__d=!1,I&&I(e),l=u.render(u.props,u.state,u.context),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[]}else do u.__d=!1,I&&I(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++E<25);u.state=u.__s,u.getChildContext!=null&&(n=_t(_t({},n),u.getChildContext())),f||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(h,d)),Of(t,Gi(H=l!=null&&l.type===On&&l.key==null?l.props.children:l)?H:[H],e,r,n,i,s,o,a,c),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),_&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=nw(r.__e,e,r,n,i,s,o,c);(l=j.diffed)&&l(e)}catch(L){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),j.__e(L,e,r)}}function Df(t,e){j.__c&&j.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){j.__e(n,r.__v)}})}function nw(t,e,r,n,i,s,o,a){var c,l,u,f=r.props,h=e.props,d=e.type,p=0;if(d==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((c=s[p])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[p]=null;break}}if(t==null){if(d===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,h.is&&h),s=null,a=!1}if(d===null)f===h||a&&t.data===h||(t.data=h);else{if(s=s&&Tn.call(t.childNodes),l=(f=r.props||fi).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},p=0;p<t.attributes.length;p++)f[t.attributes[p].name]=t.attributes[p].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(rw(t,h,f,i,a),u)e.__k=[];else if(Of(t,Gi(p=e.props.children)?p:[p],e,r,n,i&&d!=="foreignObject",s,o,s?s[0]:r.__k&&gn(r,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&Nf(s[p]);a||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||d==="progress"&&!p||d==="option"&&p!==f.value)&&pi(t,"value",p,f.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&pi(t,"checked",p,f.checked,!1))}return t}function Ff(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){j.__e(n,r)}}function Bf(t,e,r){var n,i;if(j.unmount&&j.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ff(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){j.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Bf(n[i],e,r||typeof t.type!="function");r||t.__e==null||Nf(t.__e),t.__=t.__e=t.__d=void 0}function iw(t,e,r){return this.constructor(t,r)}function Vf(t,e,r){var n,i,s;j.__&&j.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],ic(e,t=(!n&&r||e).__k=ca(On,null,[t]),i||fi,fi,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Tn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Df(s,t)}function Hf(t,e){Vf(t,e,Hf)}function sw(t,e,r){var n,i,s,o,a=_t({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Tn.call(arguments,2):r),un(t.type,a,n||t.key,i||t.ref,null)}function ow(t,e){var r={__c:e="__cC"+Mf++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,ua(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Tn=Af.slice,j={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Rf=0,kf=function(t){return t!=null&&t.constructor===void 0},ln.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_t({},this.state),typeof t=="function"&&(t=t(_t({},r),this.props)),t&&_t(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ua(this))},ln.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ua(this))},ln.prototype.render=On,Zt=[],xf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,aa=function(t,e){return t.__v.__b-e.__v.__b},di.__r=0,Mf=0;const aw=Object.freeze(Object.defineProperty({__proto__:null,Component:ln,Fragment:On,cloneElement:sw,createContext:ow,createElement:ca,createRef:tw,h:ca,hydrate:Hf,get isValidElement(){return kf},get options(){return j},render:Vf,toChildArray:$f},Symbol.toStringTag,{value:"Module"})),De=Vt(aw);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var la=function(t,e){return la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},la(t,e)};function b(t,e){la(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Nr(t){return typeof t=="function"}var yl=!1,We={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}yl=t},get useDeprecatedSynchronousErrorHandling(){return yl}};function vr(t){setTimeout(function(){throw t},0)}var gi={closed:!0,next:function(t){},error:function(t){if(We.useDeprecatedSynchronousErrorHandling)throw t;vr(t)},complete:function(){}},Ae=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function sc(t){return t!==null&&typeof t=="object"}var cw=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),hn=cw,ae=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Nr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof hn?_l(f.errors):[f]}}if(Ae(o))for(var a=-1,l=o.length;++a<l;){var u=o[a];if(sc(u))try{u.unsubscribe()}catch(h){e=e||[],h instanceof hn?e=e.concat(_l(h.errors)):e.push(h)}}if(e)throw new hn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function _l(t){return t.reduce(function(e,r){return e.concat(r instanceof hn?r.errors:r)},[])}var bi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),M=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=gi;break;case 1:if(!r){s.destination=gi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new wl(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new wl(s,r,n,i);break}return s}return e.prototype[bi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ae),wl=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Nr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==gi&&(c=Object.create(n),Nr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!We.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=We.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):vr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;vr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!We.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),We.useDeprecatedSynchronousErrorHandling)throw i;vr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!We.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return We.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(vr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(M);function oc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof M?t=n:t=null}return!0}function uw(t,e,r){if(t){if(t instanceof M)return t;if(t[bi])return t[bi]()}return!t&&!e&&!r?new M(gi):new M(t,e,r)}var Ur=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dt(t){return t}function ha(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wf(t)}function Wf(t){return t.length===0?Dt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var V=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=uw(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||We.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),We.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){We.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),oc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Sl(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Ur]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Wf(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Sl(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Sl(t){if(t||(t=We.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var lw=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Nt=lw,zf=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ae),Uf=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(M),ve=function(t){b(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[bi]=function(){return new Uf(this)},e.prototype.lift=function(r){var n=new El(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Nt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Nt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Nt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Nt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Nt;return this.hasError?(r.error(this.thrownError),ae.EMPTY):this.isStopped?(r.complete(),ae.EMPTY):(this.observers.push(r),new zf(this,r))},e.prototype.asObservable=function(){var r=new V;return r.source=this,r},e.create=function(r,n){return new El(r,n)},e}(V),El=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ae.EMPTY},e}(ve);function ac(){return function(e){return e.lift(new hw(e))}}var hw=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new fw(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),fw=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(M),qf=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ae,r.add(this.source.subscribe(new pw(this.getSubject(),this))),r.closed&&(this._connection=null,r=ae.EMPTY)),r},e.prototype.refCount=function(){return ac()(this)},e}(V),dw=function(){var t=qf.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),pw=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Uf);function gw(t,e,r,n){return function(i){return i.lift(new bw(t,e,r,n))}}var bw=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new mw(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),mw=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ve,i.set(n,s);var a=new fa(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new fa(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new vw(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(M),vw=function(t){b(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(M),fa=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ae,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new yw(s)),n.add(o.subscribe(r)),n},e}(V),yw=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ae),Gf=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Nt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ve),_w=function(t){b(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ae),Ln=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(_w),ww=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Ln),da=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),$n=function(t){b(e,t);function e(r,n){n===void 0&&(n=da.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(da),Sw=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}($n),Jf=new Sw(ww),Qf=Jf,Tr=new V(function(t){return t.complete()});function qr(t){return t?Ew(t):Tr}function Ew(t){return new V(function(e){return t.schedule(function(){return e.complete()})})}function je(t){return t&&typeof t.schedule=="function"}var Zf=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function cc(t,e){return new V(function(r){var n=new ae,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Pn(t,e){return e?cc(t,e):new V(Zf(t))}function Ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return je(r)?(t.pop(),cc(t,r)):Pn(t)}function uc(t,e){return e?new V(function(r){return e.schedule(Cw,0,{error:t,subscriber:r})}):new V(function(r){return r.error(t)})}function Cw(t){var e=t.error,r=t.subscriber;r.error(e)}var pa;pa||(pa={});var wt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Ji(this.value);case"E":return uc(this.error);case"C":return qr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Iw(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Rw(t,e))}}var Rw=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Yf(e,this.scheduler,this.delay))},t}(),Yf=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new kw(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(wt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(wt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(wt.createComplete()),this.unsubscribe()},e}(M),kw=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),lc=function(t){b(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new xw(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Nt;if(this.isStopped||this.hasError?a=ae.EMPTY:(this.observers.push(r),a=new zf(this,r)),s&&r.add(r=new Yf(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Qf).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ve),xw=function(){function t(e,r){this.time=e,this.value=r}return t}(),Gr=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ae.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ae.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ve),Mw=1,Aw=function(){return Promise.resolve()}(),ga={};function Cl(t){return t in ga?(delete ga[t],!0):!1}var Il={setImmediate:function(t){var e=Mw++;return ga[e]=!0,Aw.then(function(){return Cl(e)&&t()}),e},clearImmediate:function(t){Cl(t)}},Nw=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Il.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Il.clearImmediate(n),r.scheduled=void 0)},e}(Ln),Tw=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}($n),Kf=new Tw(Nw),ni=Kf,Xf=new $n(Ln),Ne=Xf,Ow=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Ln),Lw=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}($n),ed=new Lw(Ow),$w=ed,Pw=function(t){b(e,t);function e(r,n){r===void 0&&(r=td),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}($n),td=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Ln);function ct(){}function jw(t){return!!t&&(t instanceof V||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Dw=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Or=Dw,Fw=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),jn=Fw,Bw=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),rd=Bw;function Je(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Vw(t,e))}}var Vw=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Hw(e,this.project,this.thisArg))},t}(),Hw=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(M);function nd(t,e,r){if(e)if(je(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return nd(t,r).apply(void 0,n).pipe(Je(function(s){return Ae(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new V(function(c){if(r){var u={args:n,subscriber:c,params:a};return r.schedule(Ww,0,u)}else{if(!o){o=new Gr;var l=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,n.concat([l]))}catch(f){oc(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function Ww(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Gr;var l=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var h=u.length<=1?u[0]:u;e.add(a.schedule(zw,0,{value:h,subject:c}))};try{s.apply(o,r.concat([l]))}catch(u){c.error(u)}}this.add(c.subscribe(n))}function zw(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function id(t,e,r){if(e)if(je(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return id(t,r).apply(void 0,n).pipe(Je(function(s){return Ae(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new V(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(Uw,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Gr;var l=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var h=u.shift();if(h){c.error(h);return}c.next(u.length<=1?u[0]:u),c.complete()};try{t.apply(a,n.concat([l]))}catch(u){oc(c)?c.error(u):console.warn(u)}}return c.subscribe(o)})}}function Uw(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Gr;var l=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var h=u.shift();if(h)e.add(a.schedule(Rl,0,{err:h,subject:c}));else{var d=u.length<=1?u[0]:u;e.add(a.schedule(qw,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(u){this.add(a.schedule(Rl,0,{err:u,subject:c}))}}this.add(c.subscribe(n))}function qw(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Rl(t){var e=t.err,r=t.subject;r.error(e)}var lr=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(M),Gw=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(M),Jw=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,vr),e}};function Qw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ft=Qw(),Zw=function(t){return function(e){var r=t[Ft]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Yw=function(t){return function(e){var r=t[Ur]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},sd=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function od(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var bn=function(t){if(!!t&&typeof t[Ur]=="function")return Yw(t);if(sd(t))return Zf(t);if(od(t))return Jw(t);if(!!t&&typeof t[Ft]=="function")return Zw(t);var e=sc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function St(t,e,r,n,i){if(i===void 0&&(i=new Gw(t,r,n)),!i.closed)return e instanceof V?e.subscribe(i):bn(e)(i)}var kl={};function Kw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return je(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ae(t[0])&&(t=t[0]),Pn(t,n).lift(new hc(r))}var hc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Xw(e,this.resultSelector))},t}(),Xw=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(kl),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(St(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===kl?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(lr);function e2(t,e){return new V(function(r){var n=new ae;return n.add(e.schedule(function(){var i=t[Ur]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function t2(t,e){return new V(function(r){var n=new ae;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function r2(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(function(r){var n=new ae,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Ft](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function n2(t){return t&&typeof t[Ur]=="function"}function i2(t){return t&&typeof t[Ft]=="function"}function ad(t,e){if(t!=null){if(n2(t))return e2(t,e);if(od(t))return t2(t,e);if(sd(t))return cc(t,e);if(i2(t)||typeof t=="string")return r2(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Ct(t,e){return e?ad(t,e):t instanceof V?t:new V(bn(t))}var ce=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(M),ue=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(M);function le(t,e){if(!e.closed){if(t instanceof V)return t.subscribe(e);var r;try{r=bn(t)(e)}catch(n){e.error(n)}return r}}function ir(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(ir(function(i,s){return Ct(t(i,s)).pipe(Je(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new s2(t,r))})}var s2=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new o2(e,this.project,this.concurrent))},t}(),o2=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(ue),a2=ir;function fc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),ir(Dt,t)}function cd(){return fc(1)}function mn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cd()(Ji.apply(void 0,t))}function dc(t){return new V(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Ct(r):qr();return n.subscribe(e)})}function c2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ae(r))return Yn(r,null);if(sc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Yn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ae(t[0])?t[0]:t,Yn(t,null).pipe(Je(function(s){return i.apply(void 0,s)}))}return Yn(t,null)}function Yn(t,e){return new V(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var u=Ct(t[l]),f=!1;r.add(u.subscribe({next:function(h){f||(f=!0,o++),i[l]=h},error:function(h){return r.error(h)},complete:function(){s++,(s===n||!f)&&(o===n&&r.next(e?e.reduce(function(h,d,p){return h[d]=i[p],h},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function ud(t,e,r,n){return Nr(r)&&(n=r,r=void 0),n?ud(t,e,r).pipe(Je(function(i){return Ae(i)?n.apply(void 0,i):n(i)})):new V(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}ld(t,e,s,i,r)})}function ld(t,e,r,n,i){var s;if(h2(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(l2(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(u2(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,u=t.length;l<u;l++)ld(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function u2(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function l2(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function h2(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function hd(t,e,r){return r?hd(t,e).pipe(Je(function(n){return Ae(n)?r.apply(void 0,n):r(n)})):new V(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!Nr(e))return function(){return e(i,s)}})}function f2(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Dt,i=a.scheduler}else n===void 0||je(n)?(o=t,s=Dt,i=n):(o=t,s=n);return new V(function(c){var l=o;if(i)return i.schedule(d2,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var u=void 0;try{u=e(l)}catch(h){c.error(h);return}if(!u){c.complete();break}}var f=void 0;try{f=s(l)}catch(h){c.error(h);return}if(c.next(f),c.closed)break;try{l=r(l)}catch(h){c.error(h);return}}while(!0)})}function d2(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function p2(t,e,r){return e===void 0&&(e=Tr),r===void 0&&(r=Tr),dc(function(){return t()?e:r})}function Lr(t){return!Ae(t)&&t-parseFloat(t)+1>=0}function g2(t,e){return t===void 0&&(t=0),e===void 0&&(e=Ne),(!Lr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Ne),new V(function(r){return r.add(e.schedule(b2,t,{subscriber:r,counter:0,period:t})),r})}function b2(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function fd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return je(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof V?t[0]:fc(r)(Pn(t,n))}var dd=new V(ct);function m2(){return dd}function ba(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Tr;var r=t[0],n=t.slice(1);return t.length===1&&Ae(r)?ba.apply(void 0,r):new V(function(i){var s=function(){return i.add(ba.apply(void 0,n).subscribe(i))};return Ct(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function v2(t,e){return e?new V(function(r){var n=Object.keys(t),i=new ae;return i.add(e.schedule(y2,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new V(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function y2(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function pd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Bt(t,e){return function(n){return n.lift(new _2(t,e))}}var _2=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new w2(e,this.predicate,this.thisArg))},t}(),w2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(M);function S2(t,e,r){return[Bt(e,r)(new V(bn(t))),Bt(pd(e,r))(new V(bn(t)))]}function gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ae(t[0]))t=t[0];else return t[0];return Pn(t,void 0).lift(new E2)}var E2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new C2(e))},t}(),C2=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=St(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(lr);function I2(t,e,r){return t===void 0&&(t=0),new V(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(R2,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function R2(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function bd(t,e,r){t===void 0&&(t=0);var n=-1;return Lr(e)?n=Number(e)<1&&1||Number(e):je(e)&&(r=e),je(r)||(r=Ne),new V(function(i){var s=Lr(t)?t:+t-r.now();return r.schedule(k2,s,{index:0,period:n,subscriber:i})})}function k2(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function x2(t,e){return new V(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Ct(i):Tr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function md(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Pn(t,void 0).lift(new vd(r))}var vd=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new M2(e,this.resultSelector))},t}(),M2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ae(r)?n.push(new N2(r)):typeof r[Ft]=="function"?n.push(new A2(r[Ft]())):n.push(new T2(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(M),A2=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),N2=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Ft]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),T2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Ft]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return le(this.observable,new ce(this))},e}(ue);const O2=Object.freeze(Object.defineProperty({__proto__:null,Observable:V,ConnectableObservable:qf,GroupedObservable:fa,observable:Ur,Subject:ve,BehaviorSubject:Gf,ReplaySubject:lc,AsyncSubject:Gr,asap:ni,asapScheduler:Kf,async:Ne,asyncScheduler:Xf,queue:Qf,queueScheduler:Jf,animationFrame:$w,animationFrameScheduler:ed,VirtualTimeScheduler:Pw,VirtualAction:td,Scheduler:da,Subscription:ae,Subscriber:M,Notification:wt,get NotificationKind(){return pa},pipe:ha,noop:ct,identity:Dt,isObservable:jw,ArgumentOutOfRangeError:Or,EmptyError:jn,ObjectUnsubscribedError:Nt,UnsubscriptionError:hn,TimeoutError:rd,bindCallback:nd,bindNodeCallback:id,combineLatest:Kw,concat:mn,defer:dc,empty:qr,forkJoin:c2,from:Ct,fromEvent:ud,fromEventPattern:hd,generate:f2,iif:p2,interval:g2,merge:fd,never:m2,of:Ji,onErrorResumeNext:ba,pairs:v2,partition:S2,race:gd,range:I2,throwError:uc,timer:bd,using:x2,zip:md,scheduled:ad,EMPTY:Tr,NEVER:dd,config:We},Symbol.toStringTag,{value:"Module"})),Qi=Vt(O2);var Zi={};function yd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=yd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function xl(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=yd(t))&&(n&&(n+=" "),n+=e);return n}const L2=Object.freeze(Object.defineProperty({__proto__:null,clsx:xl,default:xl},Symbol.toStringTag,{value:"Module"})),Yi=Vt(L2);var Et,X,Vo,Ml,$r=0,_d=[],ii=[],Al=j.__b,Nl=j.__r,Tl=j.diffed,Ol=j.__c,Ll=j.unmount;function hr(t,e){j.__h&&j.__h(X,t,$r||e),$r=0;var r=X.__H||(X.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:ii}),r.__[t]}function wd(t){return $r=1,Sd(Cd,t)}function Sd(t,e,r){var n=hr(Et++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Cd(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=X,!X.u)){var i=function(a,c,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(h){return h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,c,l);var f=!1;return u.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(f=!0)}}),!(!f&&n.__c.props===a)&&(!s||s.call(this,a,c,l))};X.u=!0;var s=X.shouldComponentUpdate,o=X.componentWillUpdate;X.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}o&&o.call(this,a,c,l)},X.shouldComponentUpdate=i}return n.__N||n.__}function $2(t,e){var r=hr(Et++,3);!j.__s&&gc(r.__H,e)&&(r.__=t,r.i=e,X.__H.__h.push(r))}function Ed(t,e){var r=hr(Et++,4);!j.__s&&gc(r.__H,e)&&(r.__=t,r.i=e,X.__h.push(r))}function P2(t){return $r=5,pc(function(){return{current:t}},[])}function j2(t,e,r){$r=6,Ed(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function pc(t,e){var r=hr(Et++,7);return gc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function D2(t,e){return $r=8,pc(function(){return t},e)}function F2(t){var e=X.context[t.__c],r=hr(Et++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(X)),e.props.value):t.__}function B2(t,e){j.useDebugValue&&j.useDebugValue(e?e(t):t)}function V2(t){var e=hr(Et++,10),r=wd();return e.__=t,X.componentDidCatch||(X.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function H2(){var t=hr(Et++,11);if(!t.__){for(var e=X.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function W2(){for(var t;t=_d.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(si),t.__H.__h.forEach(ma),t.__H.__h=[]}catch(e){t.__H.__h=[],j.__e(e,t.__v)}}j.__b=function(t){X=null,Al&&Al(t)},j.__r=function(t){Nl&&Nl(t),Et=0;var e=(X=t.__c).__H;e&&(Vo===X?(e.__h=[],X.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ii,r.__N=r.i=void 0})):(e.__h.forEach(si),e.__h.forEach(ma),e.__h=[],Et=0)),Vo=X},j.diffed=function(t){Tl&&Tl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(_d.push(e)!==1&&Ml===j.requestAnimationFrame||((Ml=j.requestAnimationFrame)||z2)(W2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ii&&(r.__=r.__V),r.i=void 0,r.__V=ii})),Vo=X=null},j.__c=function(t,e){e.some(function(r){try{r.__h.forEach(si),r.__h=r.__h.filter(function(n){return!n.__||ma(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],j.__e(n,r.__v)}}),Ol&&Ol(t,e)},j.unmount=function(t){Ll&&Ll(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{si(n)}catch(i){e=i}}),r.__H=void 0,e&&j.__e(e,r.__v))};var $l=typeof requestAnimationFrame=="function";function z2(t){var e,r=function(){clearTimeout(n),$l&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);$l&&(e=requestAnimationFrame(r))}function si(t){var e=X,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),X=e}function ma(t){var e=X;t.__c=t.__(),X=e}function gc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Cd(t,e){return typeof e=="function"?e(t):e}const U2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:D2,useContext:F2,useDebugValue:B2,useEffect:$2,useErrorBoundary:V2,useId:H2,useImperativeHandle:j2,useLayoutEffect:Ed,useMemo:pc,useReducer:Sd,useRef:P2,useState:wd},Symbol.toStringTag,{value:"Module"})),Dn=Vt(U2);var dt={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.CloseIcon=void 0;const Pl=De;function q2(t){return(0,Pl.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Pl.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ki.CloseIcon=q2;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.QRCodeIcon=void 0;const ot=De;function G2(t){return(0,ot.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ot.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,ot.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,ot.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,ot.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,ot.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,ot.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,ot.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,ot.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,ot.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Xi.QRCodeIcon=G2;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});const J2=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;vc.default=J2;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.StatusDotIcon=void 0;const jl=De;function Q2(t){return(0,jl.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,jl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}es.StatusDotIcon=Q2;var ts={};function Id(t){this.mode=$e.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Id.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function pt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}pt.prototype={addData:function(t){var e=new Id(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=pt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=se.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=se.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=se.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=se.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=se.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};pt.PAD0=236;pt.PAD1=17;pt.createData=function(t,e,r){for(var n=lt.getRSBlocks(t,e),i=new Rd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),se.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(pt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(pt.PAD1,8);return pt.createBytes(i,n)};pt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var u=0;u<s[a].length;u++)s[a][u]=255&t.buffer[u+r];r+=c;var f=se.getErrorCorrectPolynomial(l),h=new Cr(s[a],f.getLength()-1),d=h.mod(f);o[a]=new Array(f.getLength()-1);for(var u=0;u<o[a].length;u++){var p=u+d.getLength()-o[a].length;o[a][u]=p>=0?d.get(p):0}}for(var _=0,u=0;u<e.length;u++)_+=e[u].totalCount;for(var v=new Array(_),g=0,u=0;u<n;u++)for(var a=0;a<e.length;a++)u<s[a].length&&(v[g++]=s[a][u]);for(var u=0;u<i;u++)for(var a=0;a<e.length;a++)u<o[a].length&&(v[g++]=o[a][u]);return v};var $e={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Ot={L:1,M:0,Q:3,H:2},Rt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;se.getBCHDigit(e)-se.getBCHDigit(se.G15)>=0;)e^=se.G15<<se.getBCHDigit(e)-se.getBCHDigit(se.G15);return(t<<10|e)^se.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;se.getBCHDigit(e)-se.getBCHDigit(se.G18)>=0;)e^=se.G18<<se.getBCHDigit(e)-se.getBCHDigit(se.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return se.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Rt.PATTERN000:return(e+r)%2==0;case Rt.PATTERN001:return e%2==0;case Rt.PATTERN010:return r%3==0;case Rt.PATTERN011:return(e+r)%3==0;case Rt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Rt.PATTERN101:return e*r%2+e*r%3==0;case Rt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Rt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Cr([1],0),r=0;r<t;r++)e=e.multiply(new Cr([1,me.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case $e.MODE_NUMBER:return 10;case $e.MODE_ALPHA_NUM:return 9;case $e.MODE_8BIT_BYTE:return 8;case $e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case $e.MODE_NUMBER:return 12;case $e.MODE_ALPHA_NUM:return 11;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case $e.MODE_NUMBER:return 14;case $e.MODE_ALPHA_NUM:return 13;case $e.MODE_8BIT_BYTE:return 16;case $e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&u++;var f=Math.abs(100*u/e/e-50)/5;return r+=f*10,r}},me={glog:function(t){if(t<1)throw new Error("glog("+t+")");return me.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return me.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var _e=0;_e<8;_e++)me.EXP_TABLE[_e]=1<<_e;for(var _e=8;_e<256;_e++)me.EXP_TABLE[_e]=me.EXP_TABLE[_e-4]^me.EXP_TABLE[_e-5]^me.EXP_TABLE[_e-6]^me.EXP_TABLE[_e-8];for(var _e=0;_e<255;_e++)me.LOG_TABLE[me.EXP_TABLE[_e]]=_e;function Cr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Cr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=me.gexp(me.glog(this.get(r))+me.glog(t.get(n)));return new Cr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=me.glog(this.get(0))-me.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=me.gexp(me.glog(t.get(n))+e);return new Cr(r,0).mod(t)}};function lt(t,e){this.totalCount=t,this.dataCount=e}lt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];lt.getRSBlocks=function(t,e){var r=lt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new lt(a,c));return i};lt.getRsBlockTable=function(t,e){switch(e){case Ot.L:return lt.RS_BLOCK_TABLE[(t-1)*4+0];case Ot.M:return lt.RS_BLOCK_TABLE[(t-1)*4+1];case Ot.Q:return lt.RS_BLOCK_TABLE[(t-1)*4+2];case Ot.H:return lt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Rd(){this.buffer=[],this.length=0}Rd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ho=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function kd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Ot.L;case"M":return Ot.M;case"Q":return Ot.Q;case"H":return Ot.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var u=i(c),f=1,h=0,d=0,p=Ho.length;d<=p;d++){var _=Ho[d];if(!_)throw new Error("Content too long: expected "+h+" but got "+u);switch(l){case"L":h=_[0];break;case"M":h=_[1];break;case"Q":h=_[2];break;case"H":h=_[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=h)break;f++}if(f>Ho.length)throw new Error("Content too long");return f}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new pt(o,a),this.qrcode.addData(s),this.qrcode.make()}kd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),u=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,h=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,p=typeof e.predefined<"u"?!!e.predefined:!1,_=p?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",v=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",m="",w=0;w<c;w++)for(var I=0;I<c;I++){var E=r[I][w];if(E){var A=I*l+e.padding*l,H=w*u+e.padding*u;if(h){var z=A;A=H,H=z}if(f){var L=l+A,q=u+H;A=Number.isInteger(A)?Number(A):A.toFixed(2),H=Number.isInteger(H)?Number(H):H.toFixed(2),L=Number.isInteger(L)?Number(L):L.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),m+="M"+A+","+H+" V"+q+" H"+L+" V"+H+" H"+A+" Z "}else p?g+=i+'<use x="'+A.toString()+'" y="'+H.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+A.toString()+'" y="'+H.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+m+'" />');let ne="";if(this.options.image!==void 0&&this.options.image.svg){const S=o*this.options.image.width/100,y=a*this.options.image.height/100,k=o/2-S/2,C=a/2-y/2;ne+=`<svg x="${k}" y="${C}" width="${S}" height="${y}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ne+=this.options.image.svg+s,ne+="</svg>"}var U="";switch(t.container){case"svg":d&&(U+='<?xml version="1.0" standalone="yes"?>'+s),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,U+=_+v+g,U+=ne,U+="</svg>";break;case"svg-viewbox":d&&(U+='<?xml version="1.0" standalone="yes"?>'+s),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,U+=_+v+g,U+=ne,U+="</svg>";break;case"g":U+='<g width="'+o+'" height="'+a+'">'+s,U+=_+v+g,U+=ne,U+="</g>";break;default:U+=(_+v+g+ne).replace(/^\s+/,"");break}return U};var Z2=kd,Y2=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});ts.QRCode=void 0;const K2=De,Dl=Dn,X2=Y2(Z2),eS=t=>{const[e,r]=(0,Dl.useState)("");return(0,Dl.useEffect)(()=>{var n,i;const s=new X2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=B.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,K2.h)("img",{src:e,alt:"QR Code"}):null};ts.QRCode=eS;var rs={},_c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var tS=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.Spinner=void 0;const Kn=De,rS=tS(_c),nS=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Kn.h)("div",{class:"-cbwsdk-spinner"},(0,Kn.h)("style",null,rS.default),(0,Kn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Kn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};rs.Spinner=nS;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Jr=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.CoinbaseAppSteps=dt.CoinbaseWalletSteps=dt.ConnectItem=dt.ConnectContent=void 0;const Ue=Jr(Yi),O=De,Fl=Dn,iS=x,sS=_n,oS=Ki,aS=Jr(bc),cS=Jr(mc),xd=Xi,uS=Jr(vc),lS=Jr(yc),hS=es,fS=ts,dS=rs,pS=Jr(wc),Bl={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:cS.default,steps:Ad},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:aS.default,steps:Nd}},gS=t=>{switch(t){case"coinbase-app":return uS.default;case"coinbase-wallet-app":default:return lS.default}},va=t=>t==="light"?"#FFFFFF":"#0A0B0D";function bS(t){const{theme:e}=t,[r,n]=(0,Fl.useState)("coinbase-wallet-app"),i=(0,Fl.useCallback)(l=>{n(l)},[]),s=(0,iS.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Bl[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,O.h)("div",{"data-testid":"connect-content",class:(0,Ue.default)("-cbwsdk-connect-content",e)},(0,O.h)("style",null,pS.default),(0,O.h)("div",{class:"-cbwsdk-connect-content-header"},(0,O.h)("h2",{class:(0,Ue.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,O.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,O.h)(oS.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,O.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,O.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,O.h)("div",null,Object.entries(Bl).map(([l,u])=>(0,O.h)(Md,{key:l,title:u.title,description:u.description,icon:u.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,O.h)("div",{class:(0,Ue.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,O.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,O.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,O.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,O.h)(fS.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:gS(r),width:25,height:25}}),(0,O.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:sS.LIB_VERSION}),(0,O.h)("input",{type:"hidden",value:s})),(0,O.h)(a,{theme:e}),!t.isConnected&&(0,O.h)("div",{"data-testid":"connecting-spinner",class:(0,Ue.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,O.h)(dS.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,O.h)("p",null,"Connecting...")))))}dt.ConnectContent=bS;function Md({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,O.h)("div",{onClick:s,class:(0,Ue.default)("-cbwsdk-connect-item",i,{selected:n})},(0,O.h)("div",null,(0,O.h)("img",{src:r,alt:t})),(0,O.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,O.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,O.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}dt.ConnectItem=Md;function Ad({theme:t}){return(0,O.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,O.h)("li",{class:(0,Ue.default)("-cbwsdk-wallet-steps-item",t)},(0,O.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,O.h)("li",{class:(0,Ue.default)("-cbwsdk-wallet-steps-item",t)},(0,O.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,O.h)("span",null,"Tap ",(0,O.h)("strong",null,"Scan")," "),(0,O.h)("span",{class:(0,Ue.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,O.h)(xd.QRCodeIcon,{fill:va(t)})))))}dt.CoinbaseWalletSteps=Ad;function Nd({theme:t}){return(0,O.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,O.h)("li",{class:(0,Ue.default)("-cbwsdk-wallet-steps-item",t)},(0,O.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,O.h)("li",{class:(0,Ue.default)("-cbwsdk-wallet-steps-item",t)},(0,O.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,O.h)("span",null,"Tap ",(0,O.h)("strong",null,"More")),(0,O.h)("span",{class:(0,Ue.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,O.h)(hS.StatusDotIcon,{fill:va(t)})),(0,O.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,O.h)("strong",null,"Scan")),(0,O.h)("span",{class:(0,Ue.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,O.h)(xd.QRCodeIcon,{fill:va(t)})))))}dt.CoinbaseAppSteps=Nd;var ns={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.ArrowLeftIcon=void 0;const Vl=De;function mS(t){return(0,Vl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Vl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}is.ArrowLeftIcon=mS;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.LaptopIcon=void 0;const Wo=De;function vS(t){return(0,Wo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Wo.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Wo.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ss.LaptopIcon=vS;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.SafeIcon=void 0;const Hl=De;function yS(t){return(0,Hl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Hl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}os.SafeIcon=yS;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Td=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.TryExtensionContent=void 0;const Wt=Td(Yi),fe=De,zo=Dn,_S=is,wS=ss,SS=os,ES=Td(Sc);function CS({theme:t}){const[e,r]=(0,zo.useState)(!1),n=(0,zo.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,zo.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,fe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension",t)},(0,fe.h)("style",null,ES.default),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("h3",{class:(0,Wt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,fe.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,fe.h)("button",{class:(0,Wt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,fe.h)("div",null,!e&&(0,fe.h)(_S.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(wS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(SS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ns.TryExtensionContent=CS;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Od=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ConnectDialog=void 0;const Uo=Od(Yi),zt=De,qo=Dn,IS=dt,RS=ns,kS=Od(Ec),xS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,qo.useState)(!e),[s,o]=(0,qo.useState)(!e);(0,qo.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,zt.h)("div",{class:(0,Uo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,zt.h)("style",null,kS.default),(0,zt.h)("div",{class:(0,Uo.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,zt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,zt.h)("div",{class:(0,Uo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,zt.h)(IS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,zt.h)(RS.TryExtensionContent,{theme:a}))))};Zi.ConnectDialog=xS;Object.defineProperty(qi,"__esModule",{value:!0});qi.LinkFlow=void 0;const Go=De,Wl=Qi,MS=Zi;class AS{constructor(e){this.extensionUI$=new Wl.BehaviorSubject({}),this.subscriptions=new Wl.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Go.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Go.render)((0,Go.h)(MS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}qi.LinkFlow=AS;var Ld={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=N&&N.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Yi),n=De,i=Dn,s=e(Cc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(h){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=h.darkMode}attach(h){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",h.appendChild(this.root),this.render()}presentItem(h){const d=this.nextItemKey++;return this.items.set(d,h),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([h,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:h}))))),this.root)}}t.Snackbar=c;const l=f=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=l;const u=({autoExpand:f,message:h,menuItems:d,appSrc:p})=>{const[_,v]=(0,i.useState)(!0),[g,m]=(0,i.useState)(f!=null?f:!1);(0,i.useEffect)(()=>{const I=[window.setTimeout(()=>{v(!1)},1),window.setTimeout(()=>{m(!0)},1e4)];return()=>{I.forEach(window.clearTimeout)}});const w=()=>{m(!g)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",_&&"-cbwsdk-snackbar-instance-hidden",g&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:a(p),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},h),(0,n.h)("div",{class:"-gear-container"},!g&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((I,E)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",I.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:I.onClick,key:E},(0,n.h)("svg",{width:I.svgWidth,height:I.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":I.defaultFillRule,"clip-rule":I.defaultClipRule,d:I.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",I.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},I.info)))))};t.SnackbarInstance=u})(Ld);var as={},Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var NS=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});as.injectCssReset=void 0;const TS=NS(Ic);function OS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(TS.default)),document.documentElement.appendChild(t)}as.injectCssReset=OS;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.WalletSDKUI=void 0;const LS=qi,$S=Ld,PS=as;class jS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new $S.Snackbar({darkMode:e.darkMode}),this.linkFlow=new LS.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,PS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Ui.WalletSDKUI=jS;var cs={},us={};Object.defineProperty(us,"__esModule",{value:!0});var yr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(yr||(yr={}));function $d(t,e,r){if(!r||typeof r.value!==yr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:yr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:yr.boolTrue,writable:yr.boolTrue}),n}}}us.bind=$d;us.default=$d;function Pd(t){return function(r){return r.lift(new DS(t))}}var DS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new FS(e,this.durationSelector))},t}(),FS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=le(n,new ce(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ue);function BS(t,e){return e===void 0&&(e=Ne),Pd(function(){return bd(t,e)})}function VS(t){return function(r){return r.lift(new HS(t))}}var HS=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new WS(e,this.closingNotifier))},t}(),WS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(le(n,new ce(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(ue);function zS(t,e){return e===void 0&&(e=null),function(n){return n.lift(new US(t,e))}}var US=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=qS:this.subscriberClass=GS}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),qS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(M),GS=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(M);function JS(t){var e=arguments.length,r=Ne;je(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new QS(t,n,i,r))}}var QS=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new YS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),ZS=function(){function t(){this.buffer=[]}return t}(),YS=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(zl,n,l))}else{var u={subscriber:a,context:c},f={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(jd,n,u)),a.add(o.schedule(KS,i,f))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(zl,i,s))}},e.prototype.openContext=function(){var r=new ZS;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(M);function zl(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function KS(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(jd,r,{subscriber:n,context:s})),o.schedule(t,e))}function jd(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function XS(t,e){return function(n){return n.lift(new eE(t,e))}}var eE=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new tE(e,this.openings,this.closingSelector))},t}(),tE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(St(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ae,o={buffer:i,subscription:s};n.push(o);var a=St(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(lr);function rE(t){return function(e){return e.lift(new nE(t))}}var nE=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new iE(e,this.closingSelector))},t}(),iE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ae,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(le(i,new ce(this))),this.subscribing=!1},e}(ue);function sE(t){return function(r){var n=new oE(t),i=r.lift(n);return n.caught=i}}var oE=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new aE(e,this.selector,this.caught))},t}(),aE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new ce(this);this.add(i);var s=le(n,i);s!==i&&this.add(s)}},e}(ue);function cE(t){return function(e){return e.lift(new hc(t))}}function uE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ae(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Ct([n].concat(t)),new hc(r))}}function lE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(mn.apply(void 0,[r].concat(t)))}}function Dd(t,e){return ir(t,e,1)}function hE(t,e){return Dd(function(){return t},e)}function fE(t){return function(e){return e.lift(new dE(t,e))}}var dE=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new pE(e,this.predicate,this.source))},t}(),pE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(M);function gE(t){return function(e){return e.lift(new bE(t))}}var bE=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new mE(e,this.durationSelector))},t}(),mE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=le(n,new ce(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(ue);function vE(t,e){return e===void 0&&(e=Ne),function(r){return r.lift(new yE(t,e))}}var yE=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new _E(e,this.dueTime,this.scheduler))},t}(),_E=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(M);function wE(t){t.debouncedNext()}function Fn(t){return t===void 0&&(t=null),function(e){return e.lift(new SE(t))}}var SE=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new EE(e,this.defaultValue))},t}(),EE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(M);function Fd(t){return t instanceof Date&&!isNaN(+t)}function CE(t,e){e===void 0&&(e=Ne);var r=Fd(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new IE(n,e))}}var IE=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new RE(e,this.delay,this.scheduler))},t}(),RE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new kE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(wt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(wt.createComplete()),this.unsubscribe()},e}(M),kE=function(){function t(e,r){this.time=e,this.notification=r}return t}();function xE(t,e){return e?function(r){return new AE(r,e).lift(new Ul(t))}:function(r){return r.lift(new Ul(t))}}var Ul=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new ME(e,this.delayDurationSelector))},t}(),ME=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=St(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(lr),AE=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new NE(r,this.source))},e}(V),NE=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(M);function TE(){return function(e){return e.lift(new OE)}}var OE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new LE(e))},t}(),LE=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(M);function $E(t,e){return function(r){return r.lift(new PE(t,e))}}var PE=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new jE(e,this.keySelector,this.flushes))},t}(),jE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(le(i,new ce(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(ue);function Bd(t,e){return function(r){return r.lift(new DE(t,e))}}var DE=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new FE(e,this.compare,this.keySelector))},t}(),FE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(M);function BE(t,e){return Bd(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ls(t){return t===void 0&&(t=WE),function(e){return e.lift(new VE(t))}}var VE=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new HE(e,this.errorFactory))},t}(),HE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(M);function WE(){return new jn}function Rc(t){return function(e){return t===0?qr():e.lift(new zE(t))}}var zE=function(){function t(e){if(this.total=e,this.total<0)throw new Or}return t.prototype.call=function(e,r){return r.subscribe(new UE(e,this.total))},t}(),UE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(M);function qE(t,e){if(t<0)throw new Or;var r=arguments.length>=2;return function(n){return n.pipe(Bt(function(i,s){return s===t}),Rc(1),r?Fn(e):ls(function(){return new Or}))}}function GE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return mn(r,Ji.apply(void 0,t))}}function JE(t,e){return function(r){return r.lift(new QE(t,e,r))}}var QE=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new ZE(e,this.predicate,this.thisArg,this.source))},t}(),ZE=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(M);function YE(){return function(t){return t.lift(new KE)}}var KE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new XE(e))},t}(),XE=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(le(r,new ce(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ue);function Vd(t,e){return e?function(r){return r.pipe(Vd(function(n,i){return Ct(t(n,i)).pipe(Je(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new e3(t))}}var e3=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new t3(e,this.project))},t}(),t3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ue);function r3(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new n3(t,e,r))}}var n3=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new i3(e,this.project,this.concurrent,this.scheduler))},t}(),i3=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(le(r,new ce(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ue);function s3(t){return function(e){return e.lift(new o3(t))}}var o3=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new a3(e,this.callback))},t}(),a3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ae(n)),i}return e}(M);function c3(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Hd(t,r,!1,e))}}var Hd=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new u3(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),u3=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(M);function l3(t,e){return function(r){return r.lift(new Hd(t,r,!0,e))}}function h3(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Bt(function(i,s){return t(i,s,n)}):Dt,Rc(1),r?Fn(e):ls(function(){return new jn}))}}function f3(){return function(e){return e.lift(new d3)}}var d3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new p3(e))},t}(),p3=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(M);function g3(){return function(t){return t.lift(new b3)}}var b3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new m3(e))},t}(),m3=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(M);function mi(t){return function(r){return t===0?qr():r.lift(new v3(t))}}var v3=function(){function t(e){if(this.total=e,this.total<0)throw new Or}return t.prototype.call=function(e,r){return r.subscribe(new y3(e,this.total))},t}(),y3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(M);function _3(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Bt(function(i,s){return t(i,s,n)}):Dt,mi(1),r?Fn(e):ls(function(){return new jn}))}}function w3(t){return function(e){return e.lift(new S3(t))}}var S3=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new E3(e,this.value))},t}(),E3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(M);function C3(){return function(e){return e.lift(new I3)}}var I3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new R3(e))},t}(),R3=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(wt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(wt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(wt.createComplete()),r.complete()},e}(M);function vi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new k3(t,e,r))}}var k3=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new x3(e,this.accumulator,this.seed,this.hasSeed))},t}(),x3=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(M);function hs(t,e){return arguments.length>=2?function(n){return ha(vi(t,e),mi(1),Fn(e))(n)}:function(n){return ha(vi(function(i,s,o){return t(i,s,o+1)}),mi(1))(n)}}function M3(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return hs(e)}function A3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(fd.apply(void 0,[r].concat(t)))}}function N3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?ir(function(){return t},e,r):(typeof e=="number"&&(r=e),ir(function(){return t},r))}function T3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new O3(t,e,r))}}var O3=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new L3(e,this.accumulator,this.seed,this.concurrent))},t}(),L3=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ue);function $3(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return hs(e)}function sr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new P3(i,e));var s=Object.create(n,dw);return s.source=n,s.subjectFactory=i,s}}var P3=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function j3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ae(t[0])&&(t=t[0]),function(r){return r.lift(new D3(t))}}var D3=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new F3(e,this.nextSources))},t}(),F3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(ue);function B3(){return function(t){return t.lift(new V3)}}var V3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new H3(e))},t}(),H3=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(M);function W3(t,e){return function(r){return[Bt(t,e)(r),Bt(pd(t,e))(r)]}}function z3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Je(U3(t,r))(n)}}function U3(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function q3(t){return t?sr(function(){return new ve},t):sr(new ve)}function G3(t){return function(e){return sr(new Gf(t))(e)}}function J3(){return function(t){return sr(new Gr)(t)}}function Q3(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new lc(t,e,n);return function(o){return sr(function(){return s},i)(o)}}function Z3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ae(t[0])&&(t=t[0]),n.lift.call(gd.apply(void 0,[n].concat(t)))}}function Y3(t){return t===void 0&&(t=-1),function(e){return t===0?qr():t<0?e.lift(new ql(-1,e)):e.lift(new ql(t-1,e))}}var ql=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new K3(e,this.count,this.source))},t}(),K3=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(M);function X3(t){return function(e){return e.lift(new e4(t))}}var e4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.notifier,r))},t}(),t4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ve;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=le(r,new ce(this))},e}(ue);function r4(t){return t===void 0&&(t=-1),function(e){return e.lift(new n4(t,e))}}var n4=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new i4(e,this.count,this.source))},t}(),i4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(M);function s4(t){return function(e){return e.lift(new o4(t,e))}}var o4=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new a4(e,this.notifier,this.source))},t}(),a4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ve;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=le(i,new ce(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(ue);function c4(t){return function(e){return e.lift(new u4(t))}}var u4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new l4(e),i=r.subscribe(n);return i.add(le(this.notifier,new ce(n))),i},t}(),l4=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ue);function h4(t,e){return e===void 0&&(e=Ne),function(r){return r.lift(new f4(t,e))}}var f4=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new d4(e,this.period,this.scheduler))},t}(),d4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(p4,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(M);function p4(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function g4(t,e){return function(r){return r.lift(new b4(t,e))}}var b4=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new m4(e,this.compareTo,this.comparator))},t}(),m4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new v4(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(M),v4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(M);function y4(){return new ve}function _4(){return function(t){return ac()(sr(y4)(t))}}function w4(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(S4(n))}}function S4(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,u=!1,f=!1;return function(d){c++;var p;!a||u?(u=!1,a=new lc(r,i,o),p=a.subscribe(this),l=d.subscribe({next:function(_){a.next(_)},error:function(_){u=!0,a.error(_)},complete:function(){f=!0,l=void 0,a.complete()}}),f&&(l=void 0)):p=a.subscribe(this),this.add(function(){c--,p.unsubscribe(),p=void 0,l&&!f&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function E4(t){return function(e){return e.lift(new C4(t,e))}}var C4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new I4(e,this.predicate,this.source))},t}(),I4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new jn)},e}(M);function R4(t){return function(e){return e.lift(new k4(t))}}var k4=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new x4(e,this.total))},t}(),x4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(M);function M4(t){return function(e){return e.lift(new A4(t))}}var A4=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Or}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new M(e)):r.subscribe(new N4(e,this._skipCount))},t}(),N4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(M);function T4(t){return function(e){return e.lift(new O4(t))}}var O4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new L4(e,this.notifier))},t}(),L4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new ce(i);i.add(s),i.innerSubscription=s;var o=le(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ue);function $4(t){return function(e){return e.lift(new P4(t))}}var P4=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new j4(e,this.predicate))},t}(),j4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(M);function D4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return je(r)?(t.pop(),function(n){return mn(t,n,r)}):function(n){return mn(t,n)}}var F4=function(t){b(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ni);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Lr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ni),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ni),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(V);function B4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new V4(t,e))}}var V4=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new F4(r,this.delay,this.scheduler).subscribe(e)},t}();function vn(t,e){return typeof e=="function"?function(r){return r.pipe(vn(function(n,i){return Ct(t(n,i)).pipe(Je(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new H4(t))}}var H4=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new W4(e,this.project))},t}(),W4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new ce(this),s=this.destination;s.add(i),this.innerSubscription=le(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(ue);function z4(){return vn(Dt)}function U4(t,e){return e?vn(function(){return t},e):vn(function(){return t})}function q4(t){return function(e){return e.lift(new G4(t))}}var G4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new J4(e),i=le(this.notifier,new ce(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),J4=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ue);function Q4(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Z4(t,e))}}var Z4=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Y4(e,this.predicate,this.inclusive))},t}(),Y4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(M);function K4(t,e,r){return function(i){return i.lift(new X4(t,e,r))}}var X4=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new e5(e,this.nextOrObserver,this.error,this.complete))},t}(),e5=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ct,o._tapError=ct,o._tapComplete=ct,o._tapError=i||ct,o._tapComplete=s||ct,Nr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ct,o._tapError=n.error||ct,o._tapComplete=n.complete||ct),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(M),Wd={leading:!0,trailing:!1};function t5(t,e){return e===void 0&&(e=Wd),function(r){return r.lift(new r5(t,!!e.leading,!!e.trailing))}}var r5=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new n5(e,this.durationSelector,this.leading,this.trailing))},t}(),n5=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=le(n,new ce(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ue);function i5(t,e,r){return e===void 0&&(e=Ne),r===void 0&&(r=Wd),function(n){return n.lift(new s5(t,e,r.leading,r.trailing))}}var s5=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new o5(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),o5=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(a5,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(M);function a5(t){var e=t.subscriber;e.clearThrottle()}function c5(t){return t===void 0&&(t=Ne),function(e){return dc(function(){return e.pipe(vi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Je(function(r){var n=r.current,i=r.last,s=r.value;return new u5(s,n-i)}))})}}var u5=function(){function t(e,r){this.value=e,this.interval=r}return t}();function zd(t,e,r){return r===void 0&&(r=Ne),function(n){var i=Fd(t),s=i?+t-r.now():Math.abs(t);return n.lift(new l5(s,i,e,r))}}var l5=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new h5(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),h5=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(le(n,new ce(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ue);function f5(t,e){return e===void 0&&(e=Ne),zd(t,uc(new rd),e)}function d5(t){return t===void 0&&(t=Ne),Je(function(e){return new p5(e,t.now())})}var p5=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function g5(t,e,r){return r===0?[e]:(t.push(e),t)}function b5(){return hs(g5,[])}function m5(t){return function(r){return r.lift(new v5(t))}}var v5=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new y5(e),i=r.subscribe(n);return i.closed||n.add(le(this.windowBoundaries,new ce(n))),i},t}(),y5=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ve,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ve;n.next(i)},e}(ue);function _5(t,e){return e===void 0&&(e=0),function(n){return n.lift(new w5(t,e))}}var w5=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new S5(e,this.windowSize,this.startWindowEvery))},t}(),S5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ve],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var u=new ve;o.push(u),i.next(u)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(M);function E5(t){var e=Ne,r=null,n=Number.POSITIVE_INFINITY;return je(arguments[3])&&(e=arguments[3]),je(arguments[2])?e=arguments[2]:Lr(arguments[2])&&(n=Number(arguments[2])),je(arguments[1])?e=arguments[1]:Lr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new C5(t,r,n,e))}}var C5=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new R5(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),I5=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ve),R5=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Ud,n,l)),a.add(o.schedule(x5,i,u))}else{var f={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(k5,n,f))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new I5;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(M);function k5(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function x5(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Ud,e,c),o.add(a.subscription),o.schedule(t,i)}function Ud(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function M5(t,e){return function(r){return r.lift(new A5(t,e))}}var A5=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new N5(e,this.openings,this.closingSelector))},t}(),N5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=St(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var l=new ve,u=new ae,f={window:l,subscription:u};this.contexts.push(f);var h=St(this,a,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,u.add(h)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(lr);function T5(t){return function(r){return r.lift(new O5(t))}}var O5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new L5(e,this.closingSelector))},t}(),L5=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ve;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=St(this,s))},e}(lr);function $5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new P5(i,n))}}var P5=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new j5(e,this.observables,this.project))},t}(),j5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(St(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(lr);function D5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(md.apply(void 0,[n].concat(t)))}}function F5(t){return function(e){return e.lift(new vd(t))}}const B5=Object.freeze(Object.defineProperty({__proto__:null,audit:Pd,auditTime:BS,buffer:VS,bufferCount:zS,bufferTime:JS,bufferToggle:XS,bufferWhen:rE,catchError:sE,combineAll:cE,combineLatest:uE,concat:lE,concatAll:cd,concatMap:Dd,concatMapTo:hE,count:fE,debounce:gE,debounceTime:vE,defaultIfEmpty:Fn,delay:CE,delayWhen:xE,dematerialize:TE,distinct:$E,distinctUntilChanged:Bd,distinctUntilKeyChanged:BE,elementAt:qE,endWith:GE,every:JE,exhaust:YE,exhaustMap:Vd,expand:r3,filter:Bt,finalize:s3,find:c3,findIndex:l3,first:h3,groupBy:gw,ignoreElements:f3,isEmpty:g3,last:_3,map:Je,mapTo:w3,materialize:C3,max:M3,merge:A3,mergeAll:fc,mergeMap:ir,flatMap:a2,mergeMapTo:N3,mergeScan:T3,min:$3,multicast:sr,observeOn:Iw,onErrorResumeNext:j3,pairwise:B3,partition:W3,pluck:z3,publish:q3,publishBehavior:G3,publishLast:J3,publishReplay:Q3,race:Z3,reduce:hs,repeat:Y3,repeatWhen:X3,retry:r4,retryWhen:s4,refCount:ac,sample:c4,sampleTime:h4,scan:vi,sequenceEqual:g4,share:_4,shareReplay:w4,single:E4,skip:R4,skipLast:M4,skipUntil:T4,skipWhile:$4,startWith:D4,subscribeOn:B4,switchAll:z4,switchMap:vn,switchMapTo:U4,take:Rc,takeLast:mi,takeUntil:q4,takeWhile:Q4,tap:K4,throttle:t5,throttleTime:i5,throwIfEmpty:ls,timeInterval:c5,timeout:f5,timeoutWith:zd,timestamp:d5,toArray:b5,window:m5,windowCount:_5,windowTime:E5,windowToggle:M5,windowWhen:T5,withLatestFrom:$5,zip:D5,zipAll:F5},Symbol.toStringTag,{value:"Module"})),kc=Vt(B5);var fs={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.ClientMessagePublishEvent=ze.ClientMessageSetSessionConfig=ze.ClientMessageGetSessionConfig=ze.ClientMessageIsLinked=ze.ClientMessageHostSession=void 0;function V5(t){return Object.assign({type:"HostSession"},t)}ze.ClientMessageHostSession=V5;function H5(t){return Object.assign({type:"IsLinked"},t)}ze.ClientMessageIsLinked=H5;function W5(t){return Object.assign({type:"GetSessionConfig"},t)}ze.ClientMessageGetSessionConfig=W5;function z5(t){return Object.assign({type:"SetSessionConfig"},t)}ze.ClientMessageSetSessionConfig=z5;function U5(t){return Object.assign({type:"PublishEvent"},t)}ze.ClientMessagePublishEvent=U5;var qd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Qi,r=kc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(qd);var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.isServerMessageFail=void 0;function q5(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ds.isServerMessageFail=q5;Object.defineProperty(fs,"__esModule",{value:!0});fs.WalletSDKConnection=void 0;const Ze=Qi,G=kc,en=Br,gr=wn,tn=ze,rn=Fr,Xn=qd,Jo=ds,Gl=1e4,G5=6e4;class J5{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ze.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,gr.IntNumber)(1),this.connectedSubject=new Ze.BehaviorSubject(!1),this.linkedSubject=new Ze.BehaviorSubject(!1),this.sessionConfigSubject=new Ze.ReplaySubject(1);const o=new Xn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,G.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(rn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:en.Session.hash(e)})}),(0,G.skip)(1),(0,G.filter)(a=>a===Xn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,G.delay)(5e3),(0,G.filter)(a=>!this.destroyed),(0,G.flatMap)(a=>o.connect()),(0,G.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,G.skip)(2),(0,G.switchMap)(a=>(0,Ze.iif)(()=>a===Xn.ConnectionState.CONNECTED,this.authenticate().pipe((0,G.tap)(c=>this.sendIsLinked()),(0,G.tap)(c=>this.sendGetSessionConfig()),(0,G.map)(c=>!0)),(0,Ze.of)(!1))),(0,G.distinctUntilChanged)(),(0,G.catchError)(a=>(0,Ze.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,G.skip)(1),(0,G.switchMap)(a=>(0,Ze.iif)(()=>a===Xn.ConnectionState.CONNECTED,(0,Ze.timer)(0,Gl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,G.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,G.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(rn.EVENTS.LINKED,{sessionIdHash:en.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,G.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(rn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:en.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(rn.EVENTS.STARTED_CONNECTING,{sessionIdHash:en.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(rn.EVENTS.DISCONNECTED,{sessionIdHash:en.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,G.filter)(e=>e),(0,G.take)(1),(0,G.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,G.filter)(e=>e),(0,G.take)(1),(0,G.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,G.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,G.map)(e=>e))}setSessionMetadata(e,r){const n=(0,tn.ClientMessageSetSessionConfig)({id:(0,gr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,G.flatMap)(i=>this.makeRequest(n)),(0,G.map)(i=>{if((0,Jo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,tn.ClientMessagePublishEvent)({id:(0,gr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,G.flatMap)(s=>this.makeRequest(i)),(0,G.map)(s=>{if((0,Jo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Gl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=G5){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ze.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,G.timeoutWith)(r,(0,Ze.throwError)(new Error(`request ${n} timed out`))),(0,G.filter)(i=>i.id===n),(0,G.take)(1))}authenticate(){const e=(0,tn.ClientMessageHostSession)({id:(0,gr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,G.map)(r=>{if((0,Jo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,tn.ClientMessageIsLinked)({id:(0,gr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,tn.ClientMessageGetSessionConfig)({id:(0,gr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}fs.WalletSDKConnection=J5;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.decrypt=Pr.encrypt=void 0;const yi=x;async function Q5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,yi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),u=new Uint8Array(c),f=new Uint8Array([...r,...l,...u]);return(0,yi.uint8ArrayToHex)(f)}Pr.encrypt=Q5;function Z5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,yi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,yi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(u,i,l),h=new TextDecoder;r(h.decode(f))}catch(f){n(f)}})()})}Pr.decrypt=Z5;var ps={},gs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(gs);Object.defineProperty(ps,"__esModule",{value:!0});ps.Web3RequestCanceledMessage=void 0;const Y5=gs;function K5(t){return{type:Y5.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ps.Web3RequestCanceledMessage=K5;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.Web3RequestMessage=void 0;const X5=gs;function eC(t){return Object.assign({type:X5.RelayMessageType.WEB3_REQUEST},t)}bs.Web3RequestMessage=eC;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.isWeb3ResponseMessage=jr.Web3ResponseMessage=void 0;const Gd=gs;function tC(t){return Object.assign({type:Gd.RelayMessageType.WEB3_RESPONSE},t)}jr.Web3ResponseMessage=tC;function rC(t){return t&&t.type===Gd.RelayMessageType.WEB3_RESPONSE}jr.isWeb3ResponseMessage=rC;var nC=N&&N.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iC=N&&N.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jd=N&&N.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sC=N&&N.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nC(e,t,r);return iC(e,t),e},oC=N&&N.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.WalletSDKRelay=void 0;const Qd=oC(us),Ut=Qi,de=kc,Ie=Fr,aC=fs,br=yn,cC=wn,re=x,kt=sC(Pr),xt=Br,ei=tt,ye=Mi,uC=ps,lC=bs,He=te,Oe=jr;class et extends ei.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Ut.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Ut.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=xt.Session.load(this.storage)||new xt.Session(this.storage).save(),r=new aC.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,de.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,de.skip)(1),(0,de.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(ei.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Ie.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,de.mergeMap)(i=>kt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(ei.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,de.mergeMap)(i=>kt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(ei.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,de.mergeMap)(i=>(0,Ut.zip)(kt.decrypt(i.metadata.ChainId,e.secret),kt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,de.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,de.mergeMap)(i=>kt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Oe.Web3ResponseMessage)({id:s,response:(0,He.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),et.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,de.mergeMap)(i=>kt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,de.timeout)(1e3),(0,de.catchError)(e=>(0,Ut.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=xt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:xt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Ut.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ye.Web3Method.signEthereumMessage,params:{message:(0,re.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ye.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,re.hexStringFromBuffer)(e,!0),signature:(0,re.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,re.bigIntStringFromBN)(e.weiValue),data:(0,re.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,re.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,re.bigIntStringFromBN)(e.weiValue),data:(0,re.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,re.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,re.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,re.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ye.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,re.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ye.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,re.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ye.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,re.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,lC.Web3RequestMessage)({id:e,request:r}),s=xt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?xt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ie.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?xt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,uC.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Ut.Observable(s=>{kt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,de.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Ut.from)(kt.decrypt(e.data,this.session.secret)).pipe((0,de.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Oe.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,He.isRequestEthereumAccountsResponse)(n)){et.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,br.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ye.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,re.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,re.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=u=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:r,response:(0,He.RequestEthereumAccountsResponse)(u)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=br.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}et.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ye.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,re.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if(u.errorMessage)return a(new Error(u.errorMessage));o(u)});const c=u=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:n,response:(0,He.SelectProviderResponse)(cC.ProviderType.Unselected)}))},l=u=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:n,response:(0,He.SelectProviderResponse)(u)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ye.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,re.randomBytesHex)(8),u=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const f=new Promise((h,d)=>{this.relayEventManager.callbacks.set(l,v=>{if(c==null||c(),v.errorMessage)return d(new Error(v.errorMessage));h(v)});const p=v=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:l,response:(0,He.WatchAssetReponse)(!1)}))},_=()=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:l,response:(0,He.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:_,onCancel:p,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:f}}addEthereumChain(e,r,n,i,s,o){const a={method:ye.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,re.randomBytesHex)(8),u=h=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,h),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((h,d)=>{this.relayEventManager.callbacks.set(l,v=>{if(c==null||c(),v.errorMessage)return d(new Error(v.errorMessage));h(v)});const p=v=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:l,response:(0,He.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},_=v=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:l,response:(0,He.AddEthereumChainResponse)({isApproved:!0,rpcUrl:v})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:p,onApprove:_,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(e,r){const n={method:ye.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,re.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,He.isErrorResponse)(f)&&f.errorCode)return c(br.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const l=f=>{var h;if(f){const d=(h=(0,br.getErrorCode)(f))!==null&&h!==void 0?h:br.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ye.Web3Method.switchEthereumChain,f instanceof Error?f:br.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:i,response:(0,He.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},u=f=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:i,response:(0,He.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return xt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Oe.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ye.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}et.accountRequestCallbackIds=new Set;Jd([Qd.default],et.prototype,"resetAndReload",null);Jd([Qd.default],et.prototype,"handleIncomingEvent",null);cs.WalletSDKRelay=et;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.WalletSDKRelayEventManager=void 0;const hC=x;class fC{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,hC.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ms.WalletSDKRelayEventManager=fC;const dC="@coinbase/wallet-sdk",pC="3.7.1",gC="Coinbase Wallet JavaScript SDK",bC=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],mC="dist/index.js",vC="dist/index.d.ts",yC="https://github.com/coinbase/coinbase-wallet-sdk.git",_C="Coinbase, Inc.",wC="Apache-2.0",SC={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},EC={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},CC={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},IC={node:">= 10.0.0"},RC={name:dC,version:pC,description:gC,keywords:bC,main:mC,types:vC,repository:yC,author:_C,license:wC,scripts:SC,dependencies:EC,devDependencies:CC,engines:IC};Object.defineProperty(fn,"__esModule",{value:!0});fn.CoinbaseWalletSDK=void 0;const kC=Ri,xC=ki,MC=Ir,AC=Ui,NC=cs,TC=ms,OC=x,LC={ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}.LINK_API_URL||"https://www.walletlink.org",Zd={ARTIS_SERVER_API:"https://artis-api-44ccrafs3a-ew.a.run.app"}.SDK_VERSION||RC.version||"unknown";class vs{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||LC;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new AC.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new xC.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",vs.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new TC.WalletSDKRelayEventManager,this._relay=new NC.WalletSDKRelay({linkAPIUrl:s,version:Zd,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new MC.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,OC.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,kC.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}fn.CoinbaseWalletSDK=vs;vs.VERSION=Zd;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=fn,r=Ir;var n=fn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Ir;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ea);const $C=rp(Ea),DC=np({__proto__:null,default:$C},[Ea]);export{DC as i};
